"use strict";(self.webpackChunkexcalidraw_app=self.webpackChunkexcalidraw_app||[]).push([[824],{1890:function(e,n,t){t.d(n,{Z:function(){return v}});var o=t(1413),r=t(4925),i=t(9439),l=t(2791),s=t(1350),a=t(1926),c=t(4209),f=t(6571),d=(t(3659),t(184)),u=["node","inline","className","children"];var v=function(e){var n=e.src,t=(0,l.useState)(""),v=(0,i.Z)(t,2),h=v[0],g=v[1];return(0,l.useEffect)((function(){fetch(n).then((function(e){return e.text()})).then((function(e){g(e)}))}),[n]),(0,d.jsx)("div",{className:"markdown-body",children:(0,d.jsx)(s.D,{children:h,rehypePlugins:[f.Z],remarkPlugins:[a.Z],components:{code:function(e){e.node;var n=e.inline,t=e.className,i=e.children,l=(0,r.Z)(e,u);console.log("clasname...",t);var s=/language-(\w+)/.exec(t||"");return!n&&s?(0,d.jsx)(c.Z,(0,o.Z)({children:String(i).replace(/\n$/,""),language:s[1],className:"my-code",PreTag:"div"},l)):(0,d.jsx)("code",(0,o.Z)((0,o.Z)({className:t},l),{},{children:i}))}}})})}},2241:function(e,n,t){t.r(n),t.d(n,{default:function(){return u},elements:function(){return f}});var o=t(1413),r=t(2791),i=t(1890),l=t.p+"static/media/\u7ed8\u5236\u77e9\u5f62\u53ca\u65e0\u9650\u753b\u5e03.b56a92b8f2ebbe919897.md",s=function(e,n){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),function(e,n){var t=n.scrollX,o=n.scrollY;e.save();var r=100,i=100,l=e.canvas;e.translate(t,o),e.strokeStyle="red",e.fillStyle="red",e.save(),e.beginPath(),e.setLineDash([10,10]),e.moveTo(0,-o),e.lineTo(0,l.height-o),e.moveTo(-t,0),e.lineTo(l.width-t,0),e.stroke(),e.restore(),e.beginPath(),e.lineWidth=2,e.textBaseline="middle";for(var s=0;s<o/r;s++)e.moveTo(0,-s*r),e.lineTo(8,-s*r),e.font="20px Arial",e.fillText(-s,-25,-s*r);for(var a=0;a<(l.height-o)/r;a++)e.moveTo(0,a*r),e.lineTo(8,a*r),e.font="20px Arial",e.fillText(a,-25,a*r);for(var c=1;c<t/i;c++)e.moveTo(-c*i,0),e.lineTo(-c*i,8),e.font="20px Arial",e.fillText(-c,-c*i-10,-15);for(var f=1;f<(l.width-t)/i;f++)e.moveTo(f*i,0),e.lineTo(f*i,8),e.font="20px Arial",e.fillText(f,f*i-5,-15);e.stroke(),e.restore()}(t,n),function(e,n){f.forEach((function(t){e.save(),e.translate(t.x+n.scrollX,t.y+n.scrollY),e.strokeStyle=t.strokeStyle,e.strokeColor=t.strokeColor,e.strokeRect(0,0,t.width,t.height),e.restore()}))}(t,n)},a=t(184),c={offsetLeft:0,offsetTop:0,scrollX:0,scrollY:0,draggingElement:null},f=[],d=function(e,n){var t=e.clientX,o=e.clientY,r=n.offsetLeft,i=n.offsetTop;return{x:t-r-n.scrollX,y:o-i-n.scrollY}},u=(0,r.memo)((function(){var e=(0,r.useRef)(null),n=(0,r.useRef)(null);(0,r.useEffect)((function(){var n=e.current,t=n.getContext("2d"),o=n.offsetWidth,r=n.offsetHeight,i=n.offsetLeft,l=n.offsetTop;n.width=o*window.devicePixelRatio,n.height=r*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio),c.offsetLeft=i,c.offsetTop=l,s(n,c)}),[]),(0,r.useEffect)((function(){var e=n.current,t=function(e){e.preventDefault()};return e.addEventListener("wheel",t,{passive:!1}),function(){e.removeEventListener("wheel",t)}}),[]);var t=function(e){return function(n){window.removeEventListener("pointermove",e.eventListeners.onMove),window.removeEventListener("pointerup",e.eventListeners.onUp)}},u=function(n){return function(t){var o=d(t,c);n.lastCoords.x=o.x,n.lastCoords.y=o.y,c.draggingElement.width=o.x-n.origin.x,c.draggingElement.height=o.y-n.origin.y,s(e.current,c)}};return(0,a.jsxs)("div",{ref:n,children:[(0,a.jsx)("canvas",{ref:e,className:"canvas",onPointerDown:function(e){var n=d(e,c);console.log("origin...",c,n);var r={origin:n,lastCoords:(0,o.Z)({},n),eventListeners:{onMove:null,onUp:null}},i={x:r.origin.x,y:r.origin.y,width:0,height:0,strokeColor:"#000000",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid"};c.draggingElement=i,f.push(i);var l=u(r),s=t(r);window.addEventListener("pointermove",l),window.addEventListener("pointerup",s),r.eventListeners.onMove=l,r.eventListeners.onUp=s},onWheel:function(n){var t=n.deltaX,o=n.deltaY;c.scrollX=c.scrollX-t,c.scrollY=c.scrollY-o,console.log("\u6eda\u52a8\u8ddd\u79bb\uff0cX\uff1a".concat(c.scrollX,", Y\uff1a").concat(c.scrollY)),s(e.current,c)},children:"\u7ed8\u5236canvas"}),(0,a.jsx)(i.Z,{src:l})]})}))}}]);
//# sourceMappingURL=InfiniteCavnas.ecfb40e5.chunk.js.map