{"version":3,"file":"static/js/Transform.86c2aa40.chunk.js","mappings":"4NACaA,EAAgB,SAACC,EAASC,EAASC,EAAcC,GAC5D,IAAMC,EAAoBC,EAA0BL,EAASE,GAC7DI,EAAsBF,EAAmBH,EAASC,EACpD,EAEIK,EAAyB,IAAIC,QAEpBC,EAAqB,SAACT,GACjCO,EAAuBG,OAAOV,EAChC,EACaW,EAAoB,WAC/BJ,EAAyB,IAAIC,OAC/B,EAEMH,EAA4B,SAACL,EAASE,GAC1C,IAAMU,EAAwBL,EAAuBM,IAAIb,GACzD,GAAIY,EACF,OAAOA,EAET,IAAMR,EAAoBU,EACxBd,EACAE,EAAaa,KACbb,GAKF,OAFAK,EAAuBS,IAAIhB,EAASI,GAE7BA,CACT,EACIa,EAAiBC,SAASC,eAAe,eAEvCL,EAAwB,SAACd,EAASe,EAAMb,GAC5C,IAAMkB,EAASF,SAASG,cAAc,UAChCpB,EAAUmB,EAAOE,WAAW,MAC5BC,EAAUC,EAAiBxB,GAC5BiB,IACHA,EAAiBC,SAASC,eAAe,gBAK3BC,EAKhB,GAAqB,aAAjBpB,EAAQyB,KAAqB,CAC/B,IACIC,EACAC,EAFJ,GAAuBC,EAAAA,EAAAA,IAAyB5B,GAAQ,eAAnD6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAGnBZ,EAAOa,OACLC,EAAAA,EAAAA,IAASL,EAAIE,GAAMI,OAAOC,iBAAmBrB,EAAKsB,MAClDd,EAAUR,EAAKsB,MAAQ,EACzBjB,EAAOkB,QACLJ,EAAAA,EAAAA,IAASJ,EAAIE,GAAMG,OAAOC,iBAAmBrB,EAAKsB,MAClDd,EAAUR,EAAKsB,MAAQ,EACzBX,EACE1B,EAAQuC,EAAIV,GACRK,EAAAA,EAAAA,IAASlC,EAAQuC,EAAGV,GAAMM,OAAOC,iBAAmBrB,EAAKsB,MACzD,EAENV,EACE3B,EAAQwC,EAAIV,GACRI,EAAAA,EAAAA,IAASlC,EAAQwC,EAAGV,GAAMf,EAAKsB,MAAQF,OAAOC,iBAC9C,EACNnC,EAAQwC,UAAUf,EAAeC,EACnC,MACEP,EAAOa,MACLjC,EAAQiC,MAAQE,OAAOC,iBAAmBrB,EAAKsB,MAC/Cd,EAAUR,EAAKsB,MAAQ,EACzBjB,EAAOkB,OACLtC,EAAQsC,OAASH,OAAOC,iBAAmBrB,EAAKsB,MAChDd,EAAUR,EAAKsB,MAAQ,EAc3B,OAXApC,EAAQyC,OACRzC,EAAQwC,UAAUlB,EAAUR,EAAKsB,MAAOd,EAAUR,EAAKsB,OAEvDpC,EAAQ0C,MACNR,OAAOC,iBAAmBrB,EAAKsB,MAC/BF,OAAOC,iBAAmBrB,EAAKsB,OAGjCO,EAAoB5C,EAASC,EAASC,GACtCD,EAAQ4C,UAED,CACL7C,QAAAA,EACAoB,OAAAA,EACA0B,MAAO5C,EAAa4C,MACpBC,WAAYhC,EACZW,cA/CkB,EAgDlBC,cA/CkB,EAiDtB,EAEMiB,EAAsB,SAAC5C,EAASC,EAASC,GAE7C,OADAD,EAAQ+C,YAAchD,EAAQiD,QAAU,IAChCjD,EAAQyB,MACd,IAAK,YACHxB,EAAQiD,SAAW,QACnBjD,EAAQkD,QAAU,QAClBlD,EAAQmD,UAAYpD,EAAQqD,YAC5BpD,EAAQqD,YAActD,EAAQsD,YAC9BrD,EAAQsD,WAAW,EAAG,EAAGvD,EAAQiC,MAAOjC,EAAQsC,QAChD,MAEF,IAAK,OACHrC,EAAQuD,MAAOC,EAAAA,EAAAA,IAAczD,GAC7BC,EAAQyD,UAAY1D,EAAQ2D,YAC5B1D,EAAQ2D,UAAY5D,EAAQ4D,UAC5B,IAAMC,EAAQ7D,EAAQ8D,KAAKC,MAAM,MAC3BC,EAAaH,EAAMI,OAASjE,EAAQsC,OAASuB,EAAMI,OAAS,GAClEhE,EAAQiE,aAAe,SACvB,IAAK,IAAIC,EAAQ,EAAGA,EAAQN,EAAMI,OAAQE,IACxClE,EAAQmE,SAASP,EAAMM,GAAQ,GAAIA,EAAQ,GAAKH,GAElD,MAEF,IAAK,WACH/D,EAAQyC,OACRzC,EAAQmD,UAAYpD,EAAQqD,YAC5BpD,EAAQqD,YAActD,EAAQsD,YAC9BtD,EAAQqE,OAAOC,SAAQ,SAACC,EAAOJ,GAC7B,cAAaI,EAAK,GAAbhC,EAAC,KAAEC,EAAC,KACTD,GAAQvC,EAAQuC,EAChBC,GAAQxC,EAAQwC,EACX2B,EAGHlE,EAAQuE,OAAOjC,EAAGC,GAFlBvC,EAAQwE,OAAOlC,EAAGC,EAItB,IAEAvC,EAAQyE,SAERzE,EAAQ4C,UAMZ5C,EAAQ+C,YAAc,CACxB,EAEMxB,EAAmB,SAACxB,GAAO,MACd,aAAjBA,EAAQyB,KAA4C,GAAtBzB,EAAQqD,YAAmB,EAAG,EAExD/C,EAAwB,SAACF,EAAmBH,EAASC,GACzD,IAAMF,EAAUI,EAAkBJ,QAC5BuB,EAAUC,EAAiBxB,GACjC,GAAuB4B,EAAAA,EAAAA,IAAyB5B,GAAQ,eAAnD6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACnB,GAAqB,aAAjBhC,EAAQyB,KAAqB,CAAC,IAAD,GACZG,EAAAA,EAAAA,IAAyB5B,GAAQ,eAAnD6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,IACjB,CACA,IAAM2C,IAAO9C,EAAKE,GAAM,EAAI7B,EAAa0E,SAAWzC,OAAOC,iBACrDyC,IAAO/C,EAAKE,GAAM,EAAI9B,EAAa4E,SAAW3C,OAAOC,iBAC3DnC,EAAQyC,OACRzC,EAAQ0C,MAAM,EAAIR,OAAOC,iBAAkB,EAAID,OAAOC,kBACtDnC,EAAQwC,UAAUkC,EAAIE,GAEtB5E,EAAQ8E,UACN3E,EAAkBgB,SACfW,EAAKF,GAAM,EAAKM,OAAOC,iBACvBb,EAAUnB,EAAkB2C,WAAWV,MACtCjC,EAAkB2C,WAAWV,QAC9BL,EAAKF,GAAM,EAAKK,OAAOC,iBACvBb,EAAUnB,EAAkB2C,WAAWV,MACtCjC,EAAkB2C,WAAWV,MACjCjC,EAAkBgB,OAAOa,MAAQ7B,EAAkB2C,WAAWV,MAC9DjC,EAAkBgB,OAAOkB,OAASlC,EAAkB2C,WAAWV,OAGjEpC,EAAQ4C,SAGV,C,uFC/EamC,EAAc,SAAH,GAMjB,IALLC,EAAQ,EAARA,SACA9E,EAAQ,EAARA,SACAwC,EAAK,EAALA,MACAvB,EAAM,EAANA,OACAlB,EAAY,EAAZA,aAEMD,EAAUmB,EAAOE,WAAW,MAElCrB,EAAQyC,OACRzC,EAAQ0C,MAAMA,EAAOA,GAErB,IAAMuC,EAAwB9D,EAAOa,MAAQU,EACvCwC,EAAyB/D,EAAOkB,OAASK,EAC/C1C,EAAQmF,UAAU,EAAG,EAAGF,EAAuBC,GAE/ClF,EAAQyC,OAERzC,EAAQ0C,MAAMzC,EAAaa,KAAKsB,MAAOnC,EAAaa,KAAKsB,OAjHnC,SAACgD,EAAI,GAAiC,IAA9BT,EAAO,EAAPA,QAASE,EAAO,EAAPA,QAAS/D,EAAI,EAAJA,KAChDsE,EAAI3C,OACJ,IAAM4C,EAAQ,IACRC,EAAQ,IAERnE,EAASiE,EAAIjE,OACnBiE,EAAI/B,YAAc,MAClB+B,EAAI3B,UAAY,MAEhB2B,EAAIG,YACJH,EAAIjC,UAAY,EAChBiC,EAAInB,aAAe,SACnBmB,EAAI3C,OACJ2C,EAAI5C,UAAU,EAAGqC,GACjB,IAAK,IAAIW,EAAI,EAAGA,EAAIX,EAAUQ,EAAOG,IAEnCJ,EAAIZ,OAAO,GAAIgB,EAAIH,GACnBD,EAAIb,OAba,GAaOiB,EAAIH,GAC5BD,EAAI7B,KAAO,aACX6B,EAAIjB,UAAUqB,EAAG,GAAIA,EAAIH,EAAQ,IAEnC,IACE,IAAIG,EAAI,EACRA,GAAKrE,EAAOkB,OAASwC,EAAU/D,EAAKsB,QAAUiD,EAAQvE,EAAKsB,OAC3DoD,IAGAJ,EAAIZ,OAAO,EAAGgB,EAAIH,GAClBD,EAAIb,OAxBa,EAwBMiB,EAAIH,GAC3BD,EAAI7B,KAAO,aACX6B,EAAIjB,SAASqB,EAAG,EAAGA,EAAIH,EAAQ,IAEjCD,EAAIxC,UACJwC,EAAI3C,OACJ2C,EAAI5C,UAAUmC,EAAS,GAEvB,IAAK,IAAIa,EAAI,EAAGA,EAAIb,EAAUW,EAAOE,IAEnCJ,EAAIZ,QAAQgB,EAAIF,EAAO,GACvBF,EAAIb,QAAQiB,EAAIF,EAnCC,GAoCjBF,EAAI7B,KAAO,aACX6B,EAAIjB,UAAUqB,GAAIA,EAAIF,EAAQ,EAAG,GAEnC,IACE,IAAIE,EAAI,EACRA,GAAKrE,EAAOa,MAAQ2C,EAAU7D,EAAKsB,QAAUkD,EAAQxE,EAAKsB,OAC1DoD,IAGAJ,EAAIZ,OAAOgB,EAAIF,EAAO,GACtBF,EAAIb,OAAOiB,EAAIF,EA9CE,GA+CjBF,EAAI7B,KAAO,aACX6B,EAAIjB,SAASqB,EAAGA,EAAIF,EAAQ,EAAG,GAEjCF,EAAIxC,UACJwC,EAAIX,SAEJW,EAAIxC,SACN,CAwDE6C,CAASzF,EAASC,GAElB,IAAMyF,EAAkBV,EAASW,QAAO,SAAC5F,GAAO,OAxDzB,SACvBA,EACA6F,EACAC,EACAC,GAQA,OAAyBC,EAAAA,EAAAA,IAAiBhG,GAAQ,eAA3C6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACfiE,GAAqBC,EAAAA,EAAAA,IACzB,CACEC,QAASJ,EAAoBK,WAC7BC,QAASN,EAAoBO,WAE/BP,GAEIQ,GAAyBL,EAAAA,EAAAA,IAC7B,CACEC,QAASJ,EAAoBK,WAAaP,EAC1CQ,QAASN,EAAoBO,UAAYR,GAE3CC,GAGF,OACEE,EAAmB1D,GAAKR,GACxBkE,EAAmBzD,GAAKR,GACxBuE,EAAuBhE,GAAKV,GAC5B0E,EAAuB/D,GAAKV,CAEhC,CAuBI0E,CAAiBxG,EAASkF,EAAuBC,EAAwB,CACvEpE,KAAMb,EAAaa,KACnBqF,WAAYjG,EAASiG,WACrBE,UAAWnG,EAASmG,UACpB1B,QAAS1E,EAAa0E,QACtBE,QAAS5E,EAAa4E,SACtB,IAEU5D,SAASC,eAAe,gBAChCsF,UAAS,wCAAWxB,EAAShB,OAAM,8DAAc0B,EAAgB1B,QACvE0B,EAAgBrB,SAAQ,SAACtE,IACvBD,EAAAA,EAAAA,IAAcC,EAASC,EAASC,EAAcC,EAChD,IACAF,EAAQ4C,UAER5C,EAAQ4C,UACR6D,aAAaC,QAAQ,WAAYC,KAAKC,UAAU5B,IAChDyB,aAAaC,QAAQ,WAAYC,KAAKC,UAAU1G,GAClD,C,uSCvIa2G,EAAa,SAAH,GAchB,IAbLrF,EAAI,EAAJA,KACAc,EAAC,EAADA,EACAC,EAAC,EAADA,EACAmB,EAAW,EAAXA,YACAoD,EAAe,EAAfA,gBACArD,EAAS,EAATA,UAAU,EAAD,EACTL,YAAAA,OAAW,MAAG,EAAC,EACfC,EAAW,EAAXA,YAAY,EAAD,EACXrB,MAAAA,OAAK,MAAG,EAAC,MACTK,OAAAA,OAAM,MAAG,EAAC,MACV0E,MAAAA,OAAK,MAAG,EAAC,MACT3C,OAAAA,OAAM,MAAG,GAAE,EACR4C,GAAI,YAEP,OAAO,QACLC,IAAIC,EAAAA,EAAAA,MACJ1F,KAAAA,EACAc,EAAAA,EACAC,EAAAA,EACAP,MAAAA,EACAK,OAAAA,EACAqB,YAAAA,EACAoD,gBAAAA,EACArD,UAAAA,EACAL,YAAAA,EACAC,YAAAA,EACA0D,MAAAA,EACAI,WAAW,EACX/C,OAAAA,GACG4C,EAEP,EAEa5F,EAAgB,SAAH,GAAqD,IAA/CgG,EAAW,EAAXA,YAAaC,EAAgB,EAAhBA,iBAAkBnH,EAAQ,EAARA,SA2B7D,OAxBY2G,EADQ,aAAhBO,EACmB,CACnB5F,KAAM4F,EACN9E,EAAG+E,EAAiBC,OAAOhF,EAC3BC,EAAG8E,EAAiBC,OAAO/E,EAC3B6B,OAAQ,CAAC,CAACiD,EAAiBC,OAAOhF,EAAG+E,EAAiBC,OAAO/E,IAC7DmB,YAAaxD,EAASqH,uBACtBT,gBAAiB5G,EAASsH,2BAC1B/D,UAAWvD,EAASuH,qBACpBrE,YAAalD,EAASwH,uBACtBrE,aAAasE,EAAAA,EAAAA,OAGM,CACnBnG,KAAM4F,EACN9E,EAAG+E,EAAiBC,OAAOhF,EAC3BC,EAAG8E,EAAiBC,OAAO/E,EAC3BmB,YAAaxD,EAASqH,uBACtBT,gBAAiB5G,EAASsH,2BAC1B/D,UAAWvD,EAASuH,qBACpBrE,YAAalD,EAASwH,uBACtBrE,aAAasE,EAAAA,EAAAA,OAKnB,EC/DMC,EAAiB,SAACC,EAAGC,GACzB,OAAOC,QAAQC,KAAKC,UAAYH,EAAID,GAAKA,GAAGK,QAAQ,GACtD,EA6DA,EA5DyB,SAACC,EAAO3G,EAAMtB,GACrC,IAEIH,EAFEiF,EAAW,GACjBoD,QAAQC,IAAI,uBAAwBF,EAAO3G,GAE3C,IAAK,IAAIgE,EAAI,EAAGA,EAAI2C,EAAO3C,IAAK,CAC9B,IAAMlD,EAAIsF,GACP1H,EAASyE,QACVzE,EAAS0F,YAAc1F,EAASyE,SAE5BpC,EAAIqF,GACP1H,EAAS2E,QACV3E,EAAS2F,aAAe3F,EAAS2E,SAE7B7C,EACJgG,KAAKM,IACHV,GACG1H,EAASyE,QAAUrC,EACpBpC,EAAS0F,YAAc1F,EAASyE,QAAUrC,IAE1C,EACAD,EACJ2F,KAAKM,IACHV,GACG1H,EAAS2E,QAAUtC,EACpBrC,EAAS2F,aAAe3F,EAAS2E,QAAUtC,IAE3C,GACNxC,EAAUqB,EAAc,CACtBgG,YAAa5F,EACb6F,iBAAkB,CAChBC,OAAQ,CACNhF,EAAAA,EACAC,EAAAA,IAGJrC,SAAAA,KAEM8B,MAAQA,EAChBjC,EAAQsC,OAASA,EACjB2C,EAASuD,KAAKxI,EAChB,CAEA,OAAOiF,CACT,EC1CI1E,EAAyB,IAAIC,QAEpBC,EAAqB,SAACT,GACjCO,EAAuBG,OAAOV,EAChC,EAKMK,EAA4B,SAACL,EAASE,GAC1C,IAAMU,EAAwBL,EAAuBM,IAAIb,GACzD,GAAIY,EACF,OAAOA,EAET,IAAMR,EAAoBU,EACxBd,EACAE,EAAaa,KACbb,GAKF,OAFAK,EAAuBS,IAAIhB,EAASI,GAE7BA,CACT,EACIa,EAAiBC,SAASC,eAAe,eAEvCL,EAAwB,SAACd,EAASe,EAAMb,GAC5C,IAAMkB,EAASF,SAASG,cAAc,UAChCpB,EAAUmB,EAAOE,WAAW,MAC5BC,EAAUC,EAAiBxB,GAC5BiB,IACHA,EAAiBC,SAASC,eAAe,gBAK3BC,EAKhB,GAAqB,aAAjBpB,EAAQyB,KAAqB,CAC/B,IACIC,EACAC,EAFJ,GAAuBC,EAAAA,EAAAA,IAAyB5B,GAAQ,eAAnD6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAGnBZ,EAAOa,OACLC,EAAAA,EAAAA,IAASL,EAAIE,GAAMI,OAAOC,iBAAmBrB,EAAKsB,MAClDd,EAAUR,EAAKsB,MAAQ,EACzBjB,EAAOkB,QACLJ,EAAAA,EAAAA,IAASJ,EAAIE,GAAMG,OAAOC,iBAAmBrB,EAAKsB,MAClDd,EAAUR,EAAKsB,MAAQ,EACzBX,EACE1B,EAAQuC,EAAIV,GACRK,EAAAA,EAAAA,IAASlC,EAAQuC,EAAGV,GAAMM,OAAOC,iBAAmBrB,EAAKsB,MACzD,EAENV,EACE3B,EAAQwC,EAAIV,GACRI,EAAAA,EAAAA,IAASlC,EAAQwC,EAAGV,GAAMf,EAAKsB,MAAQF,OAAOC,iBAC9C,EACNnC,EAAQwC,UAAUf,EAAeC,EACnC,MACEP,EAAOa,MACLjC,EAAQiC,MAAQE,OAAOC,iBAAmBrB,EAAKsB,MAC/Cd,EAAUR,EAAKsB,MAAQ,EACzBjB,EAAOkB,OACLtC,EAAQsC,OAASH,OAAOC,iBAAmBrB,EAAKsB,MAChDd,EAAUR,EAAKsB,MAAQ,EAc3B,OAXApC,EAAQyC,OACRzC,EAAQwC,UAAUlB,EAAUR,EAAKsB,MAAOd,EAAUR,EAAKsB,OAEvDpC,EAAQ0C,MACNR,OAAOC,iBAAmBrB,EAAKsB,MAC/BF,OAAOC,iBAAmBrB,EAAKsB,OAGjCO,EAAoB5C,EAASC,EAASC,GACtCD,EAAQ4C,UAED,CACL7C,QAAAA,EACAoB,OAAAA,EACA0B,MAAO5C,EAAa4C,MACpBC,WAAYhC,EACZW,cA/CkB,EAgDlBC,cA/CkB,EAiDtB,EAEMiB,EAAsB,SAAC5C,EAASC,EAASC,GAE7C,OADAD,EAAQ+C,YAAchD,EAAQiD,QAAU,IAChCjD,EAAQyB,MACd,IAAK,YACHxB,EAAQiD,SAAW,QACnBjD,EAAQkD,QAAU,QAClBlD,EAAQmD,UAAYpD,EAAQqD,YAC5BpD,EAAQqD,YAActD,EAAQsD,YAC9BrD,EAAQsD,WAAW,EAAG,EAAGvD,EAAQiC,MAAOjC,EAAQsC,QAChD,MAEF,IAAK,OACHrC,EAAQuD,MAAOC,EAAAA,EAAAA,IAAczD,GAC7BC,EAAQyD,UAAY1D,EAAQ2D,YAC5B1D,EAAQ2D,UAAY5D,EAAQ4D,UAC5B,IAAMC,EAAQ7D,EAAQ8D,KAAKC,MAAM,MAC3BC,EAAaH,EAAMI,OAASjE,EAAQsC,OAASuB,EAAMI,OAAS,GAClEhE,EAAQiE,aAAe,SACvB,IAAK,IAAIC,EAAQ,EAAGA,EAAQN,EAAMI,OAAQE,IACxClE,EAAQmE,SAASP,EAAMM,GAAQ,GAAIA,EAAQ,GAAKH,GAElD,MAEF,IAAK,WACH/D,EAAQyC,OACRzC,EAAQmD,UAAYpD,EAAQqD,YAC5BpD,EAAQqD,YAActD,EAAQsD,YAC9BtD,EAAQqE,OAAOC,SAAQ,SAACC,EAAOJ,GAC7B,cAAaI,EAAK,GAAbhC,EAAC,KAAEC,EAAC,KACTD,GAAQvC,EAAQuC,EAChBC,GAAQxC,EAAQwC,EACX2B,EAGHlE,EAAQuE,OAAOjC,EAAGC,GAFlBvC,EAAQwE,OAAOlC,EAAGC,EAItB,IAEAvC,EAAQyE,SAERzE,EAAQ4C,UAMZ5C,EAAQ+C,YAAc,CACxB,EAEMxB,EAAmB,SAACxB,GAAO,MACd,aAAjBA,EAAQyB,KAA4C,GAAtBzB,EAAQqD,YAAmB,EAAG,EAExD/C,EAAwB,SAACF,EAAmBH,EAASC,GACzD,IAAMF,EAAUI,EAAkBJ,QAC5BuB,EAAUC,EAAiBxB,GACjC,GAAuB4B,EAAAA,EAAAA,IAAyB5B,GAAQ,eAAnD6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACnB,GAAqB,aAAjBhC,EAAQyB,KAAqB,CAAC,IAAD,GACZG,EAAAA,EAAAA,IAAyB5B,GAAQ,eAAnD6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,IACjB,CACA,IAAM2C,IAAO9C,EAAKE,GAAM,EAAI7B,EAAa0E,SAAWzC,OAAOC,iBACrDyC,IAAO/C,EAAKE,GAAM,EAAI9B,EAAa4E,SAAW3C,OAAOC,iBAC3DnC,EAAQyC,OACRzC,EAAQ0C,MAAM,EAAIR,OAAOC,iBAAkB,EAAID,OAAOC,kBACtDnC,EAAQwC,UAAUkC,EAAIE,GAEtB5E,EAAQ8E,UACN3E,EAAkBgB,SACfW,EAAKF,GAAM,EAAKM,OAAOC,iBACvBb,EAAUnB,EAAkB2C,WAAWV,MACtCjC,EAAkB2C,WAAWV,QAC9BL,EAAKF,GAAM,EAAKK,OAAOC,iBACvBb,EAAUnB,EAAkB2C,WAAWV,MACtCjC,EAAkB2C,WAAWV,MACjCjC,EAAkBgB,OAAOa,MAAQ7B,EAAkB2C,WAAWV,MAC9DjC,EAAkBgB,OAAOkB,OAASlC,EAAkB2C,WAAWV,OAGjEpC,EAAQ4C,SAGV,EC/EamC,EAAc,SAAH,GAMjB,IALLC,EAAQ,EAARA,SACA9E,EAAQ,EAARA,SACAwC,EAAK,EAALA,MACAvB,EAAM,EAANA,OACAlB,EAAY,EAAZA,aAEMD,EAAUmB,EAAOE,WAAW,MAElCrB,EAAQyC,OACRzC,EAAQ0C,MAAMA,EAAOA,GAErB,IAAMuC,EAAwB9D,EAAOa,MAAQU,EACvCwC,EAAyB/D,EAAOkB,OAASK,EAC/C1C,EAAQmF,UAAU,EAAG,EAAGF,EAAuBC,GAE/ClF,EAAQyC,OAERzC,EAAQ0C,MAAMzC,EAAaa,KAAKsB,MAAOnC,EAAaa,KAAKsB,OAjHnC,SAACgD,EAAI,GAAiC,IAA9BT,EAAO,EAAPA,QAASE,EAAO,EAAPA,QAAS/D,EAAI,EAAJA,KAChDsE,EAAI3C,OACJ,IAAM4C,EAAQ,IACRC,EAAQ,IAERnE,EAASiE,EAAIjE,OACnBiE,EAAI/B,YAAc,MAClB+B,EAAI3B,UAAY,MAEhB2B,EAAIG,YACJH,EAAIjC,UAAY,EAChBiC,EAAInB,aAAe,SACnBmB,EAAI3C,OACJ2C,EAAI5C,UAAU,EAAGqC,GACjB,IAAK,IAAIW,EAAI,EAAGA,EAAIX,EAAUQ,EAAOG,IAEnCJ,EAAIZ,OAAO,GAAIgB,EAAIH,GACnBD,EAAIb,OAba,GAaOiB,EAAIH,GAC5BD,EAAI7B,KAAO,aACX6B,EAAIjB,UAAUqB,EAAG,GAAIA,EAAIH,EAAQ,IAEnC,IACE,IAAIG,EAAI,EACRA,GAAKrE,EAAOkB,OAASwC,EAAU/D,EAAKsB,QAAUiD,EAAQvE,EAAKsB,OAC3DoD,IAGAJ,EAAIZ,OAAO,EAAGgB,EAAIH,GAClBD,EAAIb,OAxBa,EAwBMiB,EAAIH,GAC3BD,EAAI7B,KAAO,aACX6B,EAAIjB,SAASqB,EAAG,EAAGA,EAAIH,EAAQ,IAEjCD,EAAIxC,UACJwC,EAAI3C,OACJ2C,EAAI5C,UAAUmC,EAAS,GAEvB,IAAK,IAAIa,EAAI,EAAGA,EAAIb,EAAUW,EAAOE,IAEnCJ,EAAIZ,QAAQgB,EAAIF,EAAO,GACvBF,EAAIb,QAAQiB,EAAIF,EAnCC,GAoCjBF,EAAI7B,KAAO,aACX6B,EAAIjB,UAAUqB,GAAIA,EAAIF,EAAQ,EAAG,GAEnC,IACE,IAAIE,EAAI,EACRA,GAAKrE,EAAOa,MAAQ2C,EAAU7D,EAAKsB,QAAUkD,EAAQxE,EAAKsB,OAC1DoD,IAGAJ,EAAIZ,OAAOgB,EAAIF,EAAO,GACtBF,EAAIb,OAAOiB,EAAIF,EA9CE,GA+CjBF,EAAI7B,KAAO,aACX6B,EAAIjB,SAASqB,EAAGA,EAAIF,EAAQ,EAAG,GAEjCF,EAAIxC,UACJwC,EAAIX,SAEJW,EAAIxC,SACN,CAwDE6C,CAASzF,EAASC,GAElB,IAAMyF,EAAkBV,EAASW,QAAO,SAAC5F,GAAO,OAxDzB,SACvBA,EACA6F,EACAC,EACAC,GAQA,OAAyBC,EAAAA,EAAAA,IAAiBhG,GAAQ,eAA3C6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACfiE,GAAqBC,EAAAA,EAAAA,IACzB,CACEC,QAASJ,EAAoBK,WAC7BC,QAASN,EAAoBO,WAE/BP,GAEIQ,GAAyBL,EAAAA,EAAAA,IAC7B,CACEC,QAASJ,EAAoBK,WAAaP,EAC1CQ,QAASN,EAAoBO,UAAYR,GAE3CC,GAGF,OACEE,EAAmB1D,GAAKR,GACxBkE,EAAmBzD,GAAKR,GACxBuE,EAAuBhE,GAAKV,GAC5B0E,EAAuB/D,GAAKV,CAEhC,CAuBI0E,CAAiBxG,EAASkF,EAAuBC,EAAwB,CACvEpE,KAAMb,EAAaa,KACnBqF,WAAYjG,EAASiG,WACrBE,UAAWnG,EAASmG,UACpB1B,QAAS1E,EAAa0E,QACtBE,QAAS5E,EAAa4E,SACtB,IAEU5D,SAASC,eAAe,gBAChCsF,UAAS,wCAAWxB,EAAShB,OAAM,8DAAc0B,EAAgB1B,QACvE0B,EAAgBrB,SAAQ,SAACtE,IDjIE,SAACA,EAASC,EAASC,EAAcC,GAC5D,IAAMC,EAAoBC,EAA0BL,EAASE,GAC7DI,EAAsBF,EAAmBH,EAASC,EACpD,CC+HIH,CAAcC,EAASC,EAASC,EAClC,IACAD,EAAQ4C,UAER5C,EAAQ4C,UACR6D,aAAaC,QAAQ,WAAYC,KAAKC,UAAU5B,IAChDyB,aAAaC,QAAQ,WAAYC,KAAKC,UAAU1G,GAClD,ECzIA,GAAgB,MAAQ,qBAAqB,KAAO,oBAAoB,SAAW,yB,+CCDtEsI,EAAa,SAACC,EAAGC,GAC5B,MAMoB,kBAATA,EAAoB,CAAE1G,MAAO0G,GAASA,EAAI,IALnD1G,MAAAA,OAAK,MAAG,IAAG,MACXK,OAAAA,OAAM,MAAGL,EAAK,EAEd2G,GADM,EAANC,OACK,EAALD,OACG3B,GAAI,YAET,OACE,gCACE,cAAY,OACZ6B,UAAU,QACVC,KAAK,MACLC,QAAO,cAAS/G,EAAK,YAAIK,GACzBsG,MAAOA,GACH3B,GAAI,aAEM,kBAANyB,GAAiB,iBAAMO,KAAK,eAAeP,EAAGA,IAAQA,IAGpE,EAWaQ,EAAgBT,GAC3B,eAAGpF,YAAY,MAAK,WAClB,iBAAMqB,OAAO,OAAOgE,EAAE,gBAAgBO,KAAK,UAC3C,iBAAM1G,EAAE,IAAIC,EAAE,IAAIP,MAAM,KAAKK,OAAO,KAAK6G,GAAG,SAE9C,CACElH,MAAO,GACPK,OAAQ,GACR2G,KAAM,OACN5F,YAAa,EACbqB,OAAQ,eACR0E,cAAe,QACfC,eAAgB,UAIPC,EAAeb,GAC1B,eAAGpF,YAAY,OAAM,WACnB,iBACEkG,SAAS,UACTb,EAAE,+IAEJ,iBAAMA,EAAE,gCAEV,CACEzG,MAAO,GACPK,OAAQ,GACR2G,KAAM,OACNvE,OAAQ,eACR0E,cAAe,QACfC,eAAgB,UAIPG,EAAkBf,GAC7B,eAAGpF,YAAY,OAAM,WACnB,iBAAMqB,OAAO,OAAOgE,EAAE,gBAAgBO,KAAK,UAC3C,iBAAMP,EAAE,eACR,iBAAMA,EAAE,qEACR,iBAAMA,EAAE,+CACR,iBAAMA,EAAE,oDACR,iBAAMA,EAAE,cACR,iBAAMA,EAAE,yBAnDY,CACtBzG,MAAO,GACPK,OAAQ,GACR2G,KAAM,OACN5F,YAAa,EACbqB,OAAQ,eACR0E,cAAe,QACfC,eAAgB,UAiDZI,EAA0B,CAC9BxH,MAAO,GACPK,OAAQ,GACR2G,KAAM,OACNvE,OAAQ,eACR0E,cAAe,QACfC,eAAgB,SAELK,EAAajB,GACxB,iBAAMpF,YAAY,OAAOqF,EAAE,qCAC3Be,GAGWE,EAAclB,GACzB,iBAAMC,EAAE,WAAWrF,YAAY,SAC/BoG,G,8BC7FIG,EAAK,WACT,cAAe,eACb,IAAM3E,EAAW2B,KAAKiD,MAAMnD,aAAaoD,QAAQ,aACjDC,KAAK9E,SAAWA,GAAY,EAC9B,CAMC,OANA,mDACD,WACE,OAAO8E,KAAK9E,QACd,GAAC,gCACD,SAAmB+E,GACjBD,KAAK9E,SAAW+E,CAClB,KAAC,EAVQ,GAaEC,EAAQ,IAAIL,ECNnBM,EAAS,CACb,CACEzI,KAAM,YACN0I,KAAMjB,GAER,CACEzH,KAAM,WACN0I,KAAMb,IAmCV,GAhCcc,EAAAA,EAAAA,OAAK,YAAyC,IAAtCC,EAAU,EAAVA,WAAYC,EAAkB,EAAlBA,mBAChC,OACE,iBAAKC,UAAWC,EAAAA,MAAa,WAC3B,iBACED,UAAW,CAACC,EAAAA,MAAaC,KAAK,KAC9BC,QAAS,YACPC,EAAAA,EAAAA,GAAU,CACR1F,SAAUgF,EAAMW,8BAChBzK,SAAAA,GAEJ,EAAE,SAEDqJ,IAEFU,EAAOW,KAAI,SAACC,GACX,IAAMC,EAAaV,EAAW5I,OAASqJ,EAAMrJ,KAC7C,OACE,iBAEE8I,UAAW,CAACC,EAAAA,KAAaO,GAAcP,EAAAA,UAAiBC,KAAK,KAC7DC,QAAS,kBACPJ,EAAmB,CAAE7I,KAAMsJ,EAAa,GAAKD,EAAMrJ,MAAO,EAC3D,SAEAqJ,EAAMX,MANFW,EAAMrJ,KASjB,MAGN,IC9CA,GAAgB,MAAQ,qBAAqB,KAAO,oBAAoB,MAAQ,sBCK1EuJ,GAAQZ,EAAAA,EAAAA,OAAK,YAAiC,IAA9BjK,EAAQ,EAARA,SAAU8K,EAAY,EAAZA,aACxBC,EAAS,WAA6B,IAAtB/K,EAASY,KAAKsB,OAAa8F,QAAQ,GAAE,KAE3D,OACE,iBAAKoC,UAAWC,EAAAA,MAAa,WAC3B,iBACED,UAAW,CAACC,EAAAA,MAAaC,KAAK,KAC9BC,QAAS,kBACPO,GAAaE,EAAAA,EAAAA,GAAkBhL,EAASY,KAAKsB,MATrC,IASwD,EACjE,SAEAsH,KAEH,iBACEY,UAAWC,EAAAA,MACXE,QAAS,kBAAMO,GAAaE,EAAAA,EAAAA,GAAkB,GAAG,EAAC,SAEjDD,KAEH,iBACEX,UAAW,CAACC,EAAAA,MAAaC,KAAK,KAC9BC,QAAS,kBACPO,GAAaE,EAAAA,EAAAA,GAAkBhL,EAASY,KAAKsB,MAvBrC,IAuBwD,EACjE,SAEAqH,MAIT,IAEA,ICpCA,EAAwB,qBAAxB,EAAwD,wBAAxD,EAAyH,2BAAzH,EAAiK,0BCG3J0B,GAAUhB,EAAAA,EAAAA,OACd,YAAiE,IAA9DC,EAAU,EAAVA,WAAYC,EAAkB,EAAlBA,mBAAoBnK,EAAQ,EAARA,SAAU8K,EAAY,EAAZA,aAC3C,OACE,iBAAKV,UAAWC,EAAa,WAC3B,SAAC,EAAK,CAACrK,SAAUA,EAAU8K,aAAcA,KACzC,SAAC,EAAK,CACJZ,WAAYA,EACZC,mBAAoBA,KAEtB,iBAAKC,UAAWC,EAAmB,WACjC,gBAAKD,UAAWC,KAChB,gBAAKD,UAAWC,SAIxB,IAGF,ICrBA,GAAgB,SAAW,wBAAwB,cAAgB,8BCc7Da,GAAQC,EAAAA,EAAAA,aAAW,WAAsBC,GAAS,IAA5BC,EAAe,EAAfA,gBACpBC,GAAcC,EAAAA,EAAAA,QAAO,MAC3B,GAA0CC,EAAAA,EAAAA,UAAS,IAAG,eAA/CC,EAAa,KAAEC,EAAgB,KAoDtC,OAnDAC,EAAAA,EAAAA,qBAAoBP,GAAK,iBAAO,CAC9BQ,cAAe,SAACC,GACdA,EAAMC,iBACND,EAAME,kBACN,Ib6CyBvD,Ea7CzB,GAA+BzC,EAAAA,EAAAA,IAC7B8F,EACA7L,GAFOgM,EAAM,EAAT5J,EAAc6J,EAAM,EAAT5J,EAIXxC,GbyCmB2I,EazCM,CAC7BpG,EAAG4J,EACH3J,EAAG4J,EACHzI,aAAaiE,EAAAA,EAAAA,MACbb,gBAAiB,cACjBrD,UAAW,UACXL,YAAa,EACbC,YAAa,QACbQ,KAAM,GACNuI,SAAU,GACVC,WAAY,SACZ1I,UAAW,OACX2I,cAAe,Ob8BDzF,GAAW,QAC7BrF,KAAM,OACNqC,KAAM6E,EAAK7E,KACXuI,SAAU1D,EAAK0D,SACfC,WAAY3D,EAAK2D,WACjB1I,UAAW+E,EAAK/E,UAChB2I,cAAe5D,EAAK4D,cACpBC,aAAc7D,EAAK7E,MAChB6E,KapCDxI,EAASsM,gBAAkBzM,EAC3B,IAAM0M,EAAWjB,EAAYkB,QAC7BD,EAASE,QACT,IAAMC,EAAOb,EAAM7F,QAAUhG,EAASiG,WAChC0G,EAAMd,EAAM3F,QAAUlG,EAASmG,UAC/ByG,EAAW,CACfvJ,MAAMC,EAAAA,EAAAA,IAAczD,GACpB6M,KAAK,GAAD,OAAKA,EAAI,MACbC,IAAI,GAAD,OAAKA,EAAG,MACX7J,QAAS,EACT+J,MAAOhN,EAAQ2D,YACf0I,SAAUrM,EAAQqM,UAEpBY,OAAOC,OAAOR,EAAS9D,MAAOmE,GAC9B,IAAMI,EAAejM,SAASC,eAAe,YAC7C8L,OAAOC,OAAOC,EAAavE,MAAOmE,GAElC,IAAMK,EAAWjN,EAAS0F,YAAcgH,EAIxCI,OAAOC,OAAOR,EAAS9D,MAAO,CAC5ByE,OAAQ,EACRD,SAAS,GAAD,OAAKA,EAAQ,MACrBnL,MAAM,GAAD,OAAKjC,EAAQqM,SAAQ,MAC1B/J,OAAO,GAAD,OAAwB,IAAnBtC,EAAQqM,SAAc,OAErC,EACD,KAEC,iCACE,qBACEiB,SAAU,SAACC,GACT,IAAIzJ,EAAOyJ,EAAEC,OAAOnL,MAEdqK,EAAWjB,EAAYkB,QACvBS,EAAWK,WAAWf,EAAS9D,MAAMwE,UAErCD,EAAejM,SAASC,eAAe,YAC7CgM,EAAa1G,UAAY3C,EACzB,IAAM4J,EAAgBP,EAAaQ,wBAAwB1L,MAC3D,GAAIyL,EAAgBN,EAGlB,GAAIM,EAAgBN,EAAW,GAC7B/E,QAAQC,IAAI,kCACZxE,EAAOqJ,EAAa1G,UAClB3C,EAAK8J,MAAM,EAAG9J,EAAKG,OAAS,GAC5B,KACAH,EAAK8J,MAAM9J,EAAKG,OAAS,OACtB,CACLoE,QAAQC,IAAI,8CACZ,IAAIzE,EAAQC,EAAKC,MAAM,MACjB8J,EAAc,GACpBhK,EAAMS,SAAQ,SAACwJ,GAIb,GAHAX,EAAa1G,UAAYqH,EAEvBX,EAAaQ,wBAAwB1L,OAClBmL,EACnBS,EAAYrF,KAAKsF,QAGjB,IADA,IAAIC,EAAU,EACLtI,EAAI,EAAGA,EAAIqI,EAAK7J,OAAQwB,IAAK,CACpC,IAAMuI,EAAMF,EAAKF,MAAMG,EAAStI,GAChC0H,EAAa1G,UAAYuH,EAEvBb,EAAaQ,wBAAwB1L,MACnBmL,GAClBS,EAAYrF,KAAKsF,EAAKF,MAAMG,EAAStI,EAAI,IACzCsI,EAAUtI,EAAI,GACLA,IAAMqI,EAAK7J,OAAS,GAC7B4J,EAAYrF,KAAKsF,EAAKF,MAAMG,EAAStI,GAEzC,CAEJ,IACA4C,QAAQC,IAAI,gBAAiBuF,GAC7B/J,EAAO+J,EAAYpD,KAAK,MACxB0C,EAAa1G,UAAY3C,CAC3B,CAGF+H,EAAiB/H,GACjB,MAA0BqJ,EAAaQ,wBAA/B1L,EAAK,EAALA,MAAOK,EAAM,EAANA,OACfoK,EAAS9D,MAAM3G,MAAK,UAAMA,EAAQ,GAAE,MACpCyK,EAAS9D,MAAMtG,OAAM,UAAMA,EAAM,MAEjCnC,EAASsM,gBAAgB3I,KAAOA,CAClC,EACAmK,OAAQ,WACN,IAAMjO,EAAUG,EAASsM,gBACnBC,EAAWjB,EAAYkB,QACvBQ,EAAejM,SAASC,eAAe,YACzCnB,EAAQ8D,OACV9D,EAAQiC,MAAQkL,EAAae,YAC7BlO,EAAQsC,OAAS6K,EAAagB,aAC9B1N,EAAmBN,EAASsM,iBAC5BxC,EAAMmE,mBAAmB,GAAD,eACnBnE,EAAMW,+BAA6B,CACtCzK,EAASsM,mBAEXzH,EAAY,CACVC,SAAUgF,EAAMW,8BAChBzK,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,QAGnBwN,YAAW,WACTpB,EAAa1G,UAAY,GACzBoF,EAAiB,GACnB,GAAG,MAELoB,OAAOC,OAAOR,EAAS9D,MAAO,CAC5BiE,KAAK,MACLC,IAAI,MACJO,QAAS,EACTpK,QAAS,GAEb,EACAZ,MAAOuJ,EACPrB,UAAWC,EAAAA,SACXe,IAAKE,KAEP,gBACE7C,MAAO,CAAE4F,WAAY,QACrBtH,GAAG,WACHuH,iBAAiB,EACjBlE,UAAW,CAACC,EAAAA,SAAiBA,EAAAA,eAAsBC,KAAK,SAIhE,IAEA,GAAeL,EAAAA,EAAAA,MAAKiB,GChKTlL,EADEyG,KAAKiD,MAAMnD,aAAaoD,QAAQ,cACf,CAC5B/I,KAAM,CAAEsB,MAAO,GACfuC,QAAS,EACTE,QAAS,EACTsB,WAAY,EACZE,UAAW,EACXmG,gBAAiB,KACjB5G,YAAa,EACbC,aAAc,GAubhB,IAnbesE,EAAAA,EAAAA,OAAK,WAClB,IAAMsE,GAAYhD,EAAAA,EAAAA,QAAO,MACnBiD,GAAkBjD,EAAAA,EAAAA,QAAO,MACzBF,GAAkBE,EAAAA,EAAAA,QAAO,MACzBkD,GAAiBlD,EAAAA,EAAAA,QAAO,CAAC,GACzBD,GAAcC,EAAAA,EAAAA,QAAO,MACrBmD,GAASnD,EAAAA,EAAAA,QAAO,MAChBoD,GAAepD,EAAAA,EAAAA,QAAO,CAAC,GAC7B,GAA4BC,EAAAA,EAAAA,WAAS,GAAM,eAApCoD,EAAI,KAAEC,EAAW,KACxB,GAAoCrD,EAAAA,EAAAA,UAAS,CAAElK,KAAM,KAAK,eAAnD4I,EAAU,KAAE4E,EAAa,KAChC,GAA8BtD,EAAAA,EAAAA,UAAS,CAAEvD,MAAO,GAAI3G,KAAM,cAAc,eAAjEyN,EAAO,KAAEC,EAAU,KAC1B,GAA8BxD,EAAAA,EAAAA,WAAS,GAAM,eAAtCyD,EAAO,KAAEC,EAAU,KACpBC,GAAa5D,EAAAA,EAAAA,UACb6D,EAAU,WACdP,GAAaD,EACf,GACAS,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,SAACrO,GACrBA,EAAOa,MAAQiM,EAAc/L,OAAOC,iBACpChB,EAAOkB,OAAS6L,EAAehM,OAAOC,gBACxC,EAGMhB,EAASsN,EAAU/B,QACjBuB,EAA8B9M,EAA9B8M,YAAaC,EAAiB/M,EAAjB+M,aACrBsB,EAAcrO,GACdqO,EAAcjE,EAAgBmB,SAE9B,MAAiBvL,EAAOuM,wBAAhBpL,EAAC,EAADA,EAAGC,EAAC,EAADA,EACXrC,EAASiG,WAAa7D,EACtBpC,EAASmG,UAAY9D,EACrBrC,EAAS0F,YAAcqI,EACvB/N,EAAS2F,aAAeqI,EAGxBnJ,EAAY,CACVC,SAAUgF,EAAMW,8BAChBzK,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,OAGrB,GAAG,KACHyO,EAAAA,EAAAA,YAAU,WACR,IAAME,EAAOf,EAAgBhC,QACvBgD,EAAc,SAACpC,GACnBA,EAAEtB,gBACJ,EAEAyD,EAAKE,iBAAiB,QAASD,EAAa,CAC1CE,SAAS,IAEX,IAAMC,EAA8B,SAAC9D,GACnC4C,EAAejC,QAAU,CACvBoD,QAAS/D,EAAM7F,QACf6J,QAAShE,EAAM3F,QAEnB,EACM4J,EAAa,SAAC1C,GAClBA,EAAEtB,gBACJ,EACM7K,EAASsN,EAAU/B,QAGzB,OAFAvL,EAAOwO,iBAAiB,aAAcK,GACtC/O,SAAS0O,iBAAiB,YAAaE,GAChC,WACL1O,EAAO8O,oBAAoB,aAAcD,GAEzCP,EAAKQ,oBAAoB,QAASP,GAClCzO,SAASgP,oBAAoB,YAAaJ,EAC5C,CACF,GAAG,KACHN,EAAAA,EAAAA,YAAU,WACR,IAAIW,EAAQ,EACRC,EAAYC,KAAKC,OAER,SAAPC,IACJ,IAAMC,EAAcH,KAAKC,MAGzB,GAFAH,IAEIK,EAAc,IAAOJ,EAAW,CAClC,IAAMK,EAAMxI,KAAKyI,MAAe,IAARP,GAAiBK,EAAcJ,IACvDvB,EAAOlC,QAAQlG,UAAS,mBAAUgK,GAClCN,EAAQ,EACRC,EAAYI,CACd,CAEAG,sBAAsBJ,EACxB,CAEAA,EACF,GAAG,IACH,IAAMK,EAAkB,WACtB5L,EAAY,CACVC,SAAUgF,EAAMW,8BAChBzK,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,QAGf+N,EAAanC,QAAQkE,aACvBC,aAAahC,EAAanC,QAAQkE,aAEpC/B,EAAanC,QAAQkE,YAActC,YAAW,WZtIhDhO,EAAyB,IAAIC,QYwIzBwE,EAAY,CACVC,SAAUgF,EAAMW,8BAChBzK,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,OAGrB,GAAG,IACL,EA0EMgQ,EAA4C,SAACzJ,GAAgB,OACjE0J,EAAAA,EAAAA,KAA4B,SAAChF,GAC3B,IAAMiF,GAAgB/K,EAAAA,EAAAA,IAA4B8F,EAAO7L,GAGzD,GAFAmH,EAAiB4J,WAAW3O,EAAI0O,EAAc1O,EAC9C+E,EAAiB4J,WAAW1O,EAAIyO,EAAczO,EACtB,aAApB6H,EAAW5I,KACbtB,EAASsM,gBAAgBpI,OAAOmE,KAAK,CACnCyI,EAAc1O,EACd0O,EAAczO,QAEX,CACL,IAAMyO,EAAgB3J,EAAiB4J,WACjCC,EAAU7J,EAAiBC,OAAOhF,EAClC6O,EAAU9J,EAAiBC,OAAO/E,EAClCD,EAAI0O,EAAc1O,EAClBC,EAAIyO,EAAczO,EAClBP,GAAQC,EAAAA,EAAAA,IAASoF,EAAiBC,OAAOhF,EAAG0O,EAAc1O,GAC1DD,GAASJ,EAAAA,EAAAA,IAASoF,EAAiBC,OAAO/E,EAAGyO,EAAczO,GAC7D6O,EAAO9O,EAAI4O,EAAUA,EAAUlP,EAAQkP,EACvCG,EAAO9O,EAAI4O,EAAUA,EAAU9O,EAAS8O,EAC5CjR,EAASsM,gBAAgBlK,EAAI8O,EAC7BlR,EAASsM,gBAAgBjK,EAAI8O,EAC7BnR,EAASsM,gBAAgBxK,MAAQA,EACjC9B,EAASsM,gBAAgBnK,OAASA,CACpC,CACA7B,EAAmBN,EAASsM,iBAE5BzH,EAAY,CACVC,SAAU,CAAC9E,EAASsM,iBACpBtM,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQsN,EAAU/B,QAClBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,OAGrB,GAAG,EAECwQ,EACJ,SAACjK,GAAgB,OAAK,SAAC0E,GAErB/B,EAAMmE,mBAAmB,GAAD,eACnBnE,EAAMW,+BAA6B,CACtCzK,EAASsM,mBAEXpE,QAAQC,IAAI,yBAA0BnI,GAGtC,IAAMiB,EAASsN,EAAU/B,QACTvL,EAAOE,WAAW,MAC1B8D,UAAU,EAAG,EAAGhE,EAAOa,MAAOb,EAAOkB,QAE7C0C,EAAY,CACVC,SAAUgF,EAAMW,8BAChBzK,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,QAGnBoB,OAAO+N,oBACL,cACA5I,EAAiBkK,eAAeC,QAElCtP,OAAO+N,oBACL,YACA5I,EAAiBkK,eAAeE,KAEpC,CAAE,EAEEC,EAA0B,SAAC3F,GAC/B,IAAMzE,GAASrB,EAAAA,EAAAA,IAA4B8F,EAAO7L,GAClD,MAAO,CACLoH,OAAAA,EACA2J,YAAW,UAAM3J,GACjBiK,eAAgB,CACdC,OAAQ,KACRC,KAAM,KACNE,QAAS,KACTC,UAAW,MAGjB,EAOA,OACE,iBAAKtG,IAAKoD,EAAgB,WAIxB,iBAAKpE,UAAU,iBAAgB,WAC7B,mBAAQgB,IAAKC,EAAiBjB,UAAU,SAAQ,iCAGhD,mBACEgB,IAAKmD,EACLnE,UAAU,cACVuH,QAvLkB,SAAC9F,GACzB,IAAQ+F,EAAmB/F,EAAnB+F,OAAQC,EAAWhG,EAAXgG,OAGhB,GAAIhG,EAAMiG,SAAWjG,EAAMkG,QAAS,CAClC,IAAMC,EAAOlK,KAAKkK,KAAKH,GAEjBI,EAAWnK,KAAKM,IAAIyJ,GACtBK,EAAQL,EAERI,EAJaE,KAKfD,EALeC,GAKIH,GAErB,IAAII,EAAUpS,EAASY,KAAKsB,MAAQgQ,EAAQ,IAC5CE,GACEtK,KAAKuK,MAAMvK,KAAKwK,IAAI,EAAGtS,EAASY,KAAKsB,SACpC8P,EACDlK,KAAKyK,IAAI,EAAGN,EAAW,IACzB,IAAMO,GAAWxH,EAAAA,EAAAA,GAAkBoH,GAcnC,OAbAtF,OAAOC,OAAO/M,GAAS,WAClByS,EAAAA,EAAAA,GACD,CACEC,UAAWjE,EAAejC,QAAQoD,QAClC+C,UAAWlE,EAAejC,QAAQqD,QAClC2C,SAAUA,GAEZxS,KAIJoP,SACAqB,GAEF,CACAzQ,EAASyE,QAAUzE,EAASyE,QAAUmN,EACtC5R,EAAS2E,QAAU3E,EAAS2E,QAAUkN,EAGtChN,EAAY,CACVC,SAAUgF,EAAMW,8BAChBzK,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,OAGrB,EAqIQgS,cAnIwB,SAAC/G,GAC/B,GAAK3B,EAAW5I,KAAhB,CACA,IAAM6F,EAAmBqK,EAAwB3F,GAC3ChM,EAAUqB,EAAc,CAC5BgG,YAAagD,EAAW5I,KACxB6F,iBAAAA,EACAnH,SAAAA,IAEFA,EAASsM,gBAAkBzM,EAC3BS,EAAmBT,GACnB,IAAMgT,EACJjC,EAA0CzJ,GACtC2L,EACJ1B,EAAwCjK,GAC1CnF,OAAOyN,iBAAiB,cAAeoD,GACvC7Q,OAAOyN,iBAAiB,YAAaqD,GACrC3L,EAAiBkK,eAAeC,OAASuB,EACzC1L,EAAiBkK,eAAeE,KAAOuB,CAhBX,CAiB9B,EAkHQC,cAnBwB,SAAClH,GAC3B3B,EAAW5I,MAEfgK,EAAYkB,QAAQZ,cAAcC,EACpC,EAe+C,iCAIzC,SAAC,EAAO,CACN3B,WAAYA,EACZY,aAAc,SAACkI,GACThT,EAASY,KAAKsB,QAAU8Q,IAC5BlG,OAAOC,OAAO/M,GAAS,WAClByS,EAAAA,EAAAA,GACD,CACEC,UAAW1S,EAAS0F,YAAc,EAAI1F,EAASiG,WAC/C0M,UAAW3S,EAAS2F,aAAe,EAAI3F,EAASmG,UAChDqM,SAAUQ,GAEZhT,KAGJoP,IACAqB,IACF,EACAzQ,UAAQ,UAAOA,GACfmK,mBAAoB,SAACjI,GACnB4M,EAAc5M,EAChB,KAEF,SAAC,EAAQ,CAACkJ,IAAKE,EAAaD,gBAAiBA,QAE/C,4BACE,iBAAMD,IAAKsD,EAAO,0BAClB,iBAAMtE,UAAU,QAAQrD,GAAG,qBAE7B,iBAAKqD,UAAU,MAAK,WAClB,kBACE9I,KAAK,SACLY,MAAO6M,EAAQ9G,MACfkF,SAAU,SAACC,GAAC,OAAK4B,GAAW,kBAAKD,GAAO,IAAE9G,MAAOmF,EAAEC,OAAOnL,QAAQ,KAEpE,oBACEA,MAAO6M,EAAQzN,KACf6L,SAAU,SAACC,GAAC,OAAK4B,GAAW,kBAAKD,GAAO,IAAEzN,KAAM8L,EAAEC,OAAOnL,QAAQ,EAAC,WAElE,mBAAQA,MAAM,WAAU,uBACxB,mBAAQA,MAAM,YAAW,wBACzB,mBAAQA,MAAM,OAAM,sBAEtB,mBACEqI,QAAS,WACP,IAAMzF,EAAWmO,EACfpL,OAAOkH,EAAQ9G,OACf8G,EAAQzN,KACRtB,GAEF8J,EAAMmE,mBAAmB,GAAD,eACnBnE,EAAMW,gCAA6B,OACnC3F,KAELD,EAAY,CACVC,SAAUgF,EAAMW,8BAChBzK,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,OAGrB,EAAE,2BAIJ,mBACE2J,QAAS,WAKP,GAJA2E,GAAYD,GACRE,EAAW3C,SACb0G,qBAAqB/D,EAAW3C,UAE9ByC,EAAJ,CACA,IACIkE,EAAWjD,KAAKC,MA0BpBhB,EAAW3C,QAAUgE,uBAzBR,SAAP4C,IACJ,IAAMC,EAAcnD,KAAKC,MACzB,GAAIkD,EAAcF,GAJL,IAI2B,CACtCA,EAAWE,EACX,IAAMvO,EbjYS,SAACA,EAAU9E,GAaxC,OAZA8E,EAASX,SAAQ,SAACmP,GAChB,IAAMlR,EAAIsF,GACP1H,EAASyE,QACVzE,EAAS0F,YAAc1F,EAASyE,SAE5BpC,EAAIqF,GACP1H,EAAS2E,QACV3E,EAAS2F,aAAe3F,EAAS2E,SAEnC2O,EAAGlR,EAAIA,EACPkR,EAAGjR,EAAIA,CACT,IACOyC,CACT,CamXiCyO,CACfzJ,EAAMW,8BACNzK,GAEF6E,EAAY,CACVC,SAAUA,EACV9E,SAAUA,EACVwC,MAAOR,OAAOC,iBACdhB,OAAQoK,EAAgBmB,QACxBzM,aAAc,CACZmO,eAAgB,UAChBzJ,QAASzE,EAASyE,QAClBE,QAAS3E,EAAS2E,QAClBwJ,oBAAqB,UACrBvN,KAAMZ,EAASY,OAGrB,CAEAuO,EAAW3C,QAAUgE,sBAAsB4C,EAC7C,GA3BmB,CA6BrB,EAAE,SAEDnE,EAAU,2BAAS,qBAGxB,gBAAKlI,GAAG,kBAGd,G,iGCxcayD,EAAY,SAAH,GAAgC,IAA1B1F,EAAQ,EAARA,SAAU9E,EAAQ,EAARA,SAEpC,EAToB,SAAC8E,EAAU0O,GAC/B,OAAiCC,EAAAA,EAAAA,IAAgB3O,GAAS,eAAnD4O,EAAI,KAAEC,EAAI,KAAEC,EAAI,KAAEC,EAAI,KAI7B,MAAO,CAACH,EAAMC,GAHA5R,EAAAA,EAAAA,IAAS2R,EAAME,GAAwB,EAAhBJ,GACtBzR,EAAAA,EAAAA,IAAS4R,EAAME,GAAQL,EAAgBA,EAGxD,CAGsCM,CAAchP,EAD5B,IACoD,eAAnE4O,EAAI,KAAEC,EAAI,KAAE7R,EAAK,KAAEK,EAAM,KAEhC+F,QAAQC,IAAI,YAAauL,EAAMC,EAAM7R,EAAOK,GAC5C,IAAMlB,EAASF,SAASG,cAAc,UACtCD,EAAOa,MAAQA,EAAQE,OAAOC,iBAC9BhB,EAAOkB,OAASA,EAASH,OAAOC,kBAIhC4C,EAAAA,EAAAA,GAAY,CACVC,SAAAA,EACA9E,UAAS,kBACJA,GAAQ,IACXyE,QAdkB,GAcRiP,EACV/O,QAfkB,GAeRgP,IAEZnR,MAAOR,OAAOC,iBACdhB,OAAQA,EACRlB,aAAc,CACZmO,eAAgB,UAChBzJ,QArBkB,GAqBRiP,EACV/O,QAtBkB,GAsBRgP,EACVxF,oBAAqB,UACrBvN,KAAM,KAGVsH,QAAQC,IAAI,eAAMrD,GAClB,IAAIiP,EAAIhT,SAASG,cAAc,KAC/B6S,EAAEC,KAAO/S,EAAOgT,YAChBF,EAAEG,SAAW,aACbH,EAAEI,OACJ,C,kSChCapO,EAA8B,SAAH,KAGlC,IAFFC,EAAO,EAAPA,QAASE,EAAO,EAAPA,QACTtF,EAAI,EAAJA,KAAMqF,EAAU,EAAVA,WAAYE,EAAS,EAATA,UAAW1B,EAAO,EAAPA,QAASE,EAAO,EAAPA,QAElCoG,EAAYnK,EAAOA,EAAKsB,MAAQ,EAGtC,MAAO,CAAEE,GAFE4D,EAAUC,GAAc8E,EAAYtG,EAEnCpC,GADD6D,EAAUC,GAAa4E,EAAYpG,EAEhD,EAGa8C,EAAM,WACjB,IAAM2M,EAAItM,KAAKuM,MAAsB,IAAhBvM,KAAKC,UACpBuM,EAAIxM,KAAKuM,MAAsB,IAAhBvM,KAAKC,UACpBwM,EAAIzM,KAAKuM,MAAsB,IAAhBvM,KAAKC,UAC1B,MAAM,OAAN,OAAcqM,EAAC,YAAIE,EAAC,YAAIC,EAAC,IAC3B,EAmDa1D,EAA8B,SAAC2D,GAC1C,OAlDyB,SAACC,EAAIjM,GAC9B,IAAIkM,EAAU,KACVC,EAAW,KACXC,EAAmB,KAEjBC,EAAe,SAAfA,EAAgBC,GACpBJ,EAAU1S,OAAOwO,uBAAsB,WACrCkE,EAAU,KACVD,EAAE,qBAAIK,IACNH,EAAW,KACPC,IACFD,EAAWC,EACXA,EAAmB,KACnBC,EAAaF,GAEjB,GACF,EAEMI,EAAM,WAAc,IAAD,uBAATD,EAAI,yBAAJA,EAAI,gBAKlBH,EAAWG,EACK,OAAZJ,EACFG,EAAaF,GACA,OAAJnM,QAAI,IAAJA,GAAAA,EAAMwM,WACfJ,EAAmBE,EAEvB,EAkBA,OAjBAC,EAAIE,MAAQ,WACM,OAAZP,IACFxB,qBAAqBwB,GACrBA,EAAU,MAERC,IACFF,EAAE,qBAAKG,GAAoBD,IAC3BA,EAAWC,EAAmB,KAElC,EACAG,EAAIG,OAAS,WACXP,EAAWC,EAAmB,KACd,OAAZF,IACFxB,qBAAqBwB,GACrBA,EAAU,KAEd,EACOK,CACT,CAESI,EAAY,SAACtJ,IAClBuJ,EAAAA,EAAAA,yBAAwBZ,EAAM3I,EAChC,GACF,EAEawJ,EAAsB,SAACxV,GAClC,IAAI6T,EAAO4B,IACP3B,EAAO2B,IACP1B,GAAQ0B,IACRzB,GAAQyB,IACRpR,EAASrE,EAAQqE,OACA,aAAjBrE,EAAQyB,OACV4C,EAASrE,EAAQqE,OAAOwG,KAAI,SAAC6K,GAC3B,MAAO,CAACA,EAAE,GAAK1V,EAAQuC,EAAGmT,EAAE,GAAK1V,EAAQwC,EAC3C,KACD,IAC0B,EAD1B,UACoB6B,GAAM,IAA3B,2BAA6B,CAAC,IAAD,qBAAjB9B,EAAC,KAAEC,EAAC,KACdqR,EAAO5L,KAAKyK,IAAImB,EAAMtR,GACtBuR,EAAO7L,KAAKyK,IAAIoB,EAAMtR,GACtBuR,EAAO9L,KAAKwK,IAAIsB,EAAMxR,GACtByR,EAAO/L,KAAKwK,IAAIuB,EAAMxR,EACxB,CAAC,+BAED,MAAO,CAACqR,EAAMC,EAAMC,EAAMC,EAC5B,EAEa2B,EAAS,SAAC9T,EAAIC,EAAIC,EAAIC,EAAIgF,GAAK,MAC1C,EAIGnF,EAAKE,GAAMkG,KAAK2N,IAAI5O,IAAUlF,EAAKE,GAAMiG,KAAK4N,IAAI7O,GAASjF,GAC3DF,EAAKE,GAAMkG,KAAK4N,IAAI7O,IAAUlF,EAAKE,GAAMiG,KAAK2N,IAAI5O,GAAShF,EAC7D,EAEUgE,EAAmB,SAAChG,GAC/B,IAEA,EAAiC4B,EAAyB5B,GAAQ,eAA3D6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAE2C,EAAE,KAAEE,EAAE,KAE7B,GAAqB,aAAjB7E,EAAQyB,KAAqB,CAC/B,MAAiC+T,EAAoBxV,GAAQ,eAAtD6T,EAAI,KAAEC,EAAI,KAAEC,EAAI,KAAEC,EAAI,KAE7B,MAAO,CACLH,EAAO7T,EAAQuC,EACfuR,EAAO9T,EAAQwC,EACfuR,EAAO/T,EAAQuC,EACfyR,EAAOhU,EAAQwC,EAEnB,CACE,MAAmBmT,EAAO9T,EAAIC,EAAI6C,EAAIE,EAAI7E,EAAQgH,OAAM,eAAjD8O,EAAG,KAAEC,EAAG,KACf,EAAmBJ,EAAO9T,EAAIG,EAAI2C,EAAIE,EAAI7E,EAAQgH,OAAM,eAAjDgP,EAAG,KAAEC,EAAG,KACf,EAAmBN,EAAO5T,EAAIC,EAAI2C,EAAIE,EAAI7E,EAAQgH,OAAM,eAAjDkP,EAAG,KAAEC,EAAG,KACf,EAAmBR,EAAO5T,EAAID,EAAI6C,EAAIE,EAAI7E,EAAQgH,OAAM,eAAjDoP,EAAG,KAAEC,EAAG,KAQjB,MAHW,CAJIpO,KAAKyK,IAAIoD,EAAKE,EAAKE,EAAKE,GACxBnO,KAAKyK,IAAIqD,EAAKE,EAAKE,EAAKE,GACxBpO,KAAKwK,IAAIqD,EAAKE,EAAKE,EAAKE,GACxBnO,KAAKwK,IAAIsD,EAAKE,EAAKE,EAAKE,GAKzC,EACazC,EAAkB,SAAC3O,GAC9B,IAAKA,EAAShB,OACZ,MAAO,CAAC,EAAG,EAAG,EAAG,GAGnB,IAAI4P,EAAO4B,IACP1B,GAAQ0B,IACR3B,EAAO2B,IACPzB,GAAQyB,IAUZ,OARAxQ,EAASX,SAAQ,SAACtE,GAChB,MAAyBgG,EAAiBhG,GAAQ,eAA3C6B,EAAE,KAAEC,EAAE,KAAEC,EAAE,KAAEC,EAAE,KACrB6R,EAAO5L,KAAKyK,IAAImB,EAAMhS,GACtBiS,EAAO7L,KAAKyK,IAAIoB,EAAMhS,GACtBiS,EAAO9L,KAAKwK,IAAIsB,EAAMhS,GACtBiS,EAAO/L,KAAKwK,IAAIuB,EAAMhS,EACxB,IAEO,CAAC6R,EAAMC,EAAMC,EAAMC,EAC5B,EACapS,EAA2B,SAAC5B,GACvC,GAAqB,aAAjBA,EAAQyB,KAAqB,CAC/B,MAAiC+T,EAAoBxV,GAAQ,eAAtD6T,EAAI,KAAEC,EAAI,KAAEC,EAAI,KAAEC,EAAI,KACvBnS,EAAKgS,EAAO7T,EAAQuC,EACpBT,EAAKgS,EAAO9T,EAAQwC,EACpBT,EAAKgS,EAAO/T,EAAQuC,EACpBP,EAAKgS,EAAOhU,EAAQwC,EAC1B,MAAO,CAACX,EAAIC,EAAIC,EAAIC,GAAKH,EAAKE,GAAM,GAAID,EAAKE,GAAM,EACrD,CACA,MAAO,CACLhC,EAAQuC,EACRvC,EAAQwC,EACRxC,EAAQuC,EAAIvC,EAAQiC,MACpBjC,EAAQwC,EAAIxC,EAAQsC,OACpBtC,EAAQuC,EAAIvC,EAAQiC,MAAQ,EAC5BjC,EAAQwC,EAAIxC,EAAQsC,OAAS,EAEjC,EAEaJ,EAAW,SAACK,EAAGC,GAAC,OAAKyF,KAAKM,IAAIhG,EAAIC,EAAG,EAW9C8T,EAAa,EACJnP,EAAW,WAAH,kBAAcmP,IAAY,EA6C/CnU,OAAOoU,6BA1CmC,WAuCxC,OArCE3P,KAAKiD,MAAMnD,aAAaoD,QAAQ,wBAA0B,IAC5Be,KAAI,SAAC2L,GACnC,IAAMnS,EAASmS,EAAInS,OAAOwG,KAAI,SAAC6K,GAC7B,MAAO,CAACA,EAAE,GAAKc,EAAIjU,EAAGmT,EAAE,GAAKc,EAAIhU,EACnC,IACA,EApB6B,SAAC6B,GAChC,IAAMoS,EAAKpS,EAAOwG,KAAI,SAACtG,GAAK,OAAKA,EAAM,EAAE,IACnCmS,EAAKrS,EAAOwG,KAAI,SAACtG,GAAK,OAAKA,EAAM,EAAE,IACzC,MAAO,CACLtC,MAAOgG,KAAKwK,IAAG,MAARxK,MAAI,OAAQwO,IAAMxO,KAAKyK,IAAG,MAARzK,MAAI,OAAQwO,IACrCnU,OAAQ2F,KAAKwK,IAAG,MAARxK,MAAI,OAAQyO,IAAMzO,KAAKyK,IAAG,MAARzK,MAAI,OAAQyO,IAE1C,CAa8BC,CAAkBtS,GAApCpC,EAAK,EAALA,MAAOK,EAAM,EAANA,OACf,MAAO,CACL4E,GAAIC,IACJ1F,KAAM,WACNc,EAAGiU,EAAIjU,EACPC,EAAGgU,EAAIhU,EACPP,MAAOA,EACPK,OAAQA,EACR0E,MAAO,EACPrD,YAAa6S,EAAIlT,YACjByD,gBAAiB,cACjBrD,UAAW,UACXL,YAAa,EACbC,YAAa,QACbsT,UAAW,EACX3T,QAAS,IACT4T,SAAU,GACVC,UAAW,KACXC,KA3B6B9O,KAAKuM,MAAMvM,KAAKC,SAAQ,SAAG,EAAK,KA4B7D8O,QAAS,EACTC,aAAc,EACd7P,WAAW,EACX8P,cAAe,KACfC,QAAS9G,KAAKC,MACd8G,KAAM,KACNC,QAAQ,EACRhT,OAAQA,EACRiT,UAAW,GACXC,kBAAkB,EAClBC,mBAAoBnT,EAAOA,EAAOJ,OAAS,GAE/C,GAEF,EAIO,IAAMR,EAAgB,SAAH,GAAkC,IAA5B4I,EAAQ,EAARA,SAAUC,EAAU,EAAVA,WACxC,MAAM,GAAN,OAAUD,EAAQ,cAAMC,EAAU,mBACpC,C,6ECjPA,IAEanB,EAAoB,SAACpK,GAChC,OAAOkH,KAAKwK,IAHG,GAGWxK,KAAKyK,IAAI3R,EAAM,IAC3C,EAEa6R,EAAkB,SAAH,EAE1BzS,GACI,IAFF0S,EAAS,EAATA,UAAWC,EAAS,EAATA,UAAWH,EAAQ,EAARA,SAGlB8E,EAAU5E,EAAY1S,EAASiG,WAC/BsR,EAAU5E,EAAY3S,EAASmG,UAC/BqR,EAAcxX,EAASY,KAAKsB,MAElC,MAAO,CACLuC,QAASzE,EAASyE,QAAU6S,EAAU9E,EAAW8E,EAAUE,EAC3D7S,QAAS3E,EAAS2E,QAAU4S,EAAU/E,EAAW+E,EAAUC,EAC3D5W,KAAM,CACJsB,MAAOsQ,GAGb,C","sources":["pages/canvas/renderer/renderElement.js","pages/canvas/renderer/renderScene.js","pages/transform/element/newElement.js","pages/transform/generateElement.js","pages/transform/renderer/renderElement.js","pages/transform/renderer/renderScene.js","webpack://excalidraw-app/./src/pages/transform/components/tools/index.module.less?78b4","pages/transform/components/icons/index.jsx","pages/transform/scene/scene.js","pages/transform/components/tools/index.jsx","webpack://excalidraw-app/./src/pages/transform/components/scale/index.module.less?ff45","pages/transform/components/scale/index.jsx","webpack://excalidraw-app/./src/pages/transform/components/layer-ui/index.module.less?840a","pages/transform/components/layer-ui/index.jsx","webpack://excalidraw-app/./src/pages/transform/components/textarea/index.module.less?b930","pages/transform/components/textarea/index.jsx","pages/transform/index.jsx","util/export.js","util/index.js","util/zoom.js"],"sourcesContent":["import { getElementAbsoluteCoords, distance, getFontString } from \"@/util\";\nexport const renderElement = (element, context, renderConfig, appState) => {\n  const elementWithCanvas = generateElementWithCanvas(element, renderConfig);\n  drawElementFromCanvas(elementWithCanvas, context, renderConfig);\n};\n\nlet elementWithCanvasCache = new WeakMap();\n\nexport const deleteElementCache = (element) => {\n  elementWithCanvasCache.delete(element);\n};\nexport const clearElementCache = () => {\n  elementWithCanvasCache = new WeakMap();\n};\n\nconst generateElementWithCanvas = (element, renderConfig) => {\n  const prevElementWithCanvas = elementWithCanvasCache.get(element);\n  if (prevElementWithCanvas) {\n    return prevElementWithCanvas;\n  }\n  const elementWithCanvas = generateElementCanvas(\n    element,\n    renderConfig.zoom,\n    renderConfig\n  );\n\n  elementWithCanvasCache.set(element, elementWithCanvas);\n\n  return elementWithCanvas;\n};\nlet rightContainer = document.getElementById(\"placeholder\");\nlet previewCanvas = null;\nconst generateElementCanvas = (element, zoom, renderConfig) => {\n  const canvas = document.createElement(\"canvas\");\n  const context = canvas.getContext(\"2d\");\n  const padding = getCanvasPadding(element);\n  if (!rightContainer) {\n    rightContainer = document.getElementById(\"placeholder\");\n  }\n  if (previewCanvas) {\n    // rightContainer.removeChild(previewCanvas);\n  }\n  previewCanvas = canvas;\n  // rightContainer.appendChild(previewCanvas);\n\n  let canvasOffsetX = 0;\n  let canvasOffsetY = 0;\n  if (element.type === \"freedraw\") {\n    let [x1, y1, x2, y2] = getElementAbsoluteCoords(element);\n    let canvasOffsetX = 0;\n    let canvasOffsetY = 0;\n    canvas.width =\n      distance(x1, x2) * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n    canvas.height =\n      distance(y1, y2) * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n    canvasOffsetX =\n      element.x > x1\n        ? distance(element.x, x1) * window.devicePixelRatio * zoom.value\n        : 0;\n\n    canvasOffsetY =\n      element.y > y1\n        ? distance(element.y, y1) * zoom.value * window.devicePixelRatio\n        : 0;\n    context.translate(canvasOffsetX, canvasOffsetY);\n  } else {\n    canvas.width =\n      element.width * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n    canvas.height =\n      element.height * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n  }\n\n  context.save();\n  context.translate(padding * zoom.value, padding * zoom.value);\n\n  context.scale(\n    window.devicePixelRatio * zoom.value,\n    window.devicePixelRatio * zoom.value\n  );\n\n  drawElementOnCanvas(element, context, renderConfig);\n  context.restore();\n\n  return {\n    element,\n    canvas,\n    theme: renderConfig.theme,\n    canvasZoom: zoom,\n    canvasOffsetX,\n    canvasOffsetY,\n  };\n};\n\nconst drawElementOnCanvas = (element, context, renderConfig) => {\n  context.globalAlpha = element.opacity / 100;\n  switch (element.type) {\n    case \"rectangle\": {\n      context.lineJoin = \"round\";\n      context.lineCap = \"round\";\n      context.lineWidth = element.strokeWidth;\n      context.strokeStyle = element.strokeStyle;\n      context.strokeRect(0, 0, element.width, element.height);\n      break;\n    }\n    case \"text\": {\n      context.font = getFontString(element);\n      context.fillStyle = element.strokeColor;\n      context.textAlign = element.textAlign;\n      const lines = element.text.split(\"\\n\");\n      const lineHeight = lines.length ? element.height / lines.length : 18;\n      context.textBaseline = \"bottom\";\n      for (let index = 0; index < lines.length; index++) {\n        context.fillText(lines[index], 0, (index + 1) * lineHeight);\n      }\n      break;\n    }\n    case \"freedraw\": {\n      context.save();\n      context.lineWidth = element.strokeWidth;\n      context.strokeStyle = element.strokeStyle;\n      element.points.forEach((point, index) => {\n        let [x, y] = point;\n        x = x - element.x;\n        y = y - element.y;\n        if (!index) {\n          context.moveTo(x, y);\n        } else {\n          context.lineTo(x, y);\n        }\n      });\n\n      context.stroke();\n\n      context.restore();\n      break;\n    }\n    default: {\n    }\n  }\n  context.globalAlpha = 1;\n};\n\nconst getCanvasPadding = (element) =>\n  element.type === \"freedraw\" ? element.strokeWidth * 12 : 20;\n\nconst drawElementFromCanvas = (elementWithCanvas, context, renderConfig) => {\n  const element = elementWithCanvas.element;\n  const padding = getCanvasPadding(element);\n  let [x1, y1, x2, y2] = getElementAbsoluteCoords(element);\n  if (element.type === \"freedraw\") {\n    [x1, y1, x2, y2] = getElementAbsoluteCoords(element);\n  }\n  const cx = ((x1 + x2) / 2 + renderConfig.scrollX) * window.devicePixelRatio;\n  const cy = ((y1 + y2) / 2 + renderConfig.scrollY) * window.devicePixelRatio;\n  context.save();\n  context.scale(1 / window.devicePixelRatio, 1 / window.devicePixelRatio);\n  context.translate(cx, cy);\n\n  context.drawImage(\n    elementWithCanvas.canvas,\n    (-(x2 - x1) / 2) * window.devicePixelRatio -\n      (padding * elementWithCanvas.canvasZoom.value) /\n        elementWithCanvas.canvasZoom.value,\n    (-(y2 - y1) / 2) * window.devicePixelRatio -\n      (padding * elementWithCanvas.canvasZoom.value) /\n        elementWithCanvas.canvasZoom.value,\n    elementWithCanvas.canvas.width / elementWithCanvas.canvasZoom.value,\n    elementWithCanvas.canvas.height / elementWithCanvas.canvasZoom.value\n  );\n\n  context.restore();\n\n  // Clear the nested element we appended to the DOM\n};\n","import { renderElement } from \"./renderElement\";\nimport { getElementBounds, viewportCoordsToSceneCoords } from \"@/util\";\n\nexport const drawAxis = (ctx, { scrollX, scrollY, zoom }) => {\n  ctx.save();\n  const rectH = 100; // 纵轴刻度间距\n  const rectW = 100; // 横轴刻度间距\n  const tickLength = 8; // 刻度线长度\n  const canvas = ctx.canvas;\n  ctx.strokeStyle = \"red\";\n  ctx.fillStyle = \"red\";\n  // 绘制横轴和纵轴刻度\n  ctx.beginPath();\n  ctx.lineWidth = 2;\n  ctx.textBaseline = \"middle\";\n  ctx.save();\n  ctx.translate(0, scrollY);\n  for (let i = 0; i < scrollY / rectH; i++) {\n    // 绘制纵轴刻度\n    ctx.moveTo(0, -i * rectH);\n    ctx.lineTo(tickLength, -i * rectH);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(-i, 0, -i * rectH + 10);\n  }\n  for (\n    let i = 1;\n    i < (canvas.height - scrollY * zoom.value) / (rectH * zoom.value);\n    i++\n  ) {\n    // 绘制纵轴刻度\n    ctx.moveTo(0, i * rectH);\n    ctx.lineTo(tickLength, i * rectH);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(i, 0, i * rectH + 10);\n  }\n  ctx.restore();\n  ctx.save();\n  ctx.translate(scrollX, 0);\n\n  for (let i = 0; i < scrollX / rectW; i++) {\n    // 绘制横轴刻度\n    ctx.moveTo(-i * rectW, 0);\n    ctx.lineTo(-i * rectW, tickLength);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(-i, -i * rectW + 5, 5);\n  }\n  for (\n    let i = 1;\n    i < (canvas.width - scrollX * zoom.value) / (rectW * zoom.value);\n    i++\n  ) {\n    // 绘制横轴刻度\n    ctx.moveTo(i * rectW, 0);\n    ctx.lineTo(i * rectW, tickLength);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(i, i * rectW + 5, 5);\n  }\n  ctx.restore();\n  ctx.stroke();\n\n  ctx.restore();\n};\n\nconst isVisibleElement = (\n  element: ExcalidrawElement,\n  canvasWidth: number,\n  canvasHeight: number,\n  viewTransformations: {\n    zoom: Zoom,\n    offsetLeft: number,\n    offsetTop: number,\n    scrollX: number,\n    scrollY: number,\n  }\n) => {\n  const [x1, y1, x2, y2] = getElementBounds(element); // scene coordinates\n  const topLeftSceneCoords = viewportCoordsToSceneCoords(\n    {\n      clientX: viewTransformations.offsetLeft,\n      clientY: viewTransformations.offsetTop,\n    },\n    viewTransformations\n  );\n  const bottomRightSceneCoords = viewportCoordsToSceneCoords(\n    {\n      clientX: viewTransformations.offsetLeft + canvasWidth,\n      clientY: viewTransformations.offsetTop + canvasHeight,\n    },\n    viewTransformations\n  );\n\n  return (\n    topLeftSceneCoords.x <= x2 &&\n    topLeftSceneCoords.y <= y2 &&\n    bottomRightSceneCoords.x >= x1 &&\n    bottomRightSceneCoords.y >= y1\n  );\n};\nexport const renderScene = ({\n  elements,\n  appState,\n  scale,\n  canvas,\n  renderConfig,\n}) => {\n  const context = canvas.getContext(\"2d\");\n\n  context.save();\n  context.scale(scale, scale);\n\n  const normalizedCanvasWidth = canvas.width / scale;\n  const normalizedCanvasHeight = canvas.height / scale;\n  context.clearRect(0, 0, normalizedCanvasWidth, normalizedCanvasHeight);\n\n  context.save();\n  // 先放大\n  context.scale(renderConfig.zoom.value, renderConfig.zoom.value);\n  drawAxis(context, renderConfig);\n\n  const visibleElements = elements.filter((element) =>\n    isVisibleElement(element, normalizedCanvasWidth, normalizedCanvasHeight, {\n      zoom: renderConfig.zoom,\n      offsetLeft: appState.offsetLeft,\n      offsetTop: appState.offsetTop,\n      scrollX: renderConfig.scrollX,\n      scrollY: renderConfig.scrollY,\n    })\n  );\n  const total = document.getElementById('canvas-total')\n  total.innerText = `总元素数：${elements.length}   可见区域内元素：${visibleElements.length}`\n  visibleElements.forEach((element) => {\n    renderElement(element, context, renderConfig, appState);\n  });\n  context.restore();\n\n  context.restore();\n  localStorage.setItem(\"elements\", JSON.stringify(elements));\n  localStorage.setItem(\"appState\", JSON.stringify(appState));\n};\n","import { randomId } from \"@/util\";\nimport { rgb } from \"@/util\";\n\nexport const newElement = ({\n  type,\n  x,\n  y,\n  strokeColor,\n  backgroundColor,\n  fillStyle,\n  strokeWidth = 3,\n  strokeStyle,\n  width = 0,\n  height = 0,\n  angle = 0,\n  points = [],\n  ...rest\n}) => {\n  return {\n    id: randomId(),\n    type,\n    x,\n    y,\n    width,\n    height,\n    strokeColor,\n    backgroundColor,\n    fillStyle,\n    strokeWidth,\n    strokeStyle,\n    angle,\n    isDeleted: false,\n    points,\n    ...rest,\n  };\n};\n\nexport const createElement = ({ elementType, pointerDownState, appState }) => {\n  let element;\n  if (elementType === \"freedraw\") {\n    element = newElement({\n      type: elementType,\n      x: pointerDownState.origin.x,\n      y: pointerDownState.origin.y,\n      points: [[pointerDownState.origin.x, pointerDownState.origin.y]],\n      strokeColor: appState.currentItemStrokeColor,\n      backgroundColor: appState.currentItemBackgroundColor,\n      fillStyle: appState.currentItemFillStyle,\n      strokeWidth: appState.currentItemStrokeWidth,\n      strokeStyle: rgb(),\n    });\n  } else {\n    element = newElement({\n      type: elementType,\n      x: pointerDownState.origin.x,\n      y: pointerDownState.origin.y,\n      strokeColor: appState.currentItemStrokeColor,\n      backgroundColor: appState.currentItemBackgroundColor,\n      fillStyle: appState.currentItemFillStyle,\n      strokeWidth: appState.currentItemStrokeWidth,\n      strokeStyle: rgb(),\n    });\n  }\n\n  return element;\n};\n\nexport const newTextElement = (opts) => {\n  const textElement = newElement({\n    type: \"text\",\n    text: opts.text,\n    fontSize: opts.fontSize,\n    fontFamily: opts.fontFamily,\n    textAlign: opts.textAlign,\n    verticalAlign: opts.verticalAlign,\n    originalText: opts.text,\n    ...opts,\n  });\n\n  return textElement;\n};\n","import { createElement } from \"./element/newElement\";\n\nconst getRandomValue = (n, m) => {\n  return Number((Math.random() * (m - n) + n).toFixed(5));\n};\nconst generateElements = (count, type, appState) => {\n  const elements = [];\n  console.log(\"generate elements...\", count, type);\n  let element;\n  for (let i = 0; i < count; i++) {\n    const x = getRandomValue(\n      -appState.scrollX,\n      appState.canvasWidth - appState.scrollX\n    );\n    const y = getRandomValue(\n      -appState.scrollY,\n      appState.canvasHeight - appState.scrollY\n    );\n    const width =\n      Math.abs(\n        getRandomValue(\n          -appState.scrollX - x,\n          appState.canvasWidth - appState.scrollX - x\n        )\n      ) + 2;\n    const height =\n      Math.abs(\n        getRandomValue(\n          -appState.scrollY - y,\n          appState.canvasHeight - appState.scrollY - y\n        )\n      ) + 2;\n    element = createElement({\n      elementType: type,\n      pointerDownState: {\n        origin: {\n          x,\n          y,\n        },\n      },\n      appState,\n    });\n    element.width = width;\n    element.height = height;\n    elements.push(element);\n  }\n\n  return elements;\n};\n\nexport const animateElements = (elements, appState) => {\n  elements.forEach((el) => {\n    const x = getRandomValue(\n      -appState.scrollX,\n      appState.canvasWidth - appState.scrollX\n    );\n    const y = getRandomValue(\n      -appState.scrollY,\n      appState.canvasHeight - appState.scrollY\n    );\n    el.x = x;\n    el.y = y;\n  });\n  return elements;\n};\nexport default generateElements;\n","import { getElementAbsoluteCoords, distance, getFontString } from \"@/util\";\nexport const renderElement = (element, context, renderConfig, appState) => {\n  const elementWithCanvas = generateElementWithCanvas(element, renderConfig);\n  drawElementFromCanvas(elementWithCanvas, context, renderConfig);\n};\n\nlet elementWithCanvasCache = new WeakMap();\n\nexport const deleteElementCache = (element) => {\n  elementWithCanvasCache.delete(element);\n};\nexport const clearElementCache = () => {\n  elementWithCanvasCache = new WeakMap();\n};\n\nconst generateElementWithCanvas = (element, renderConfig) => {\n  const prevElementWithCanvas = elementWithCanvasCache.get(element);\n  if (prevElementWithCanvas) {\n    return prevElementWithCanvas;\n  }\n  const elementWithCanvas = generateElementCanvas(\n    element,\n    renderConfig.zoom,\n    renderConfig\n  );\n\n  elementWithCanvasCache.set(element, elementWithCanvas);\n\n  return elementWithCanvas;\n};\nlet rightContainer = document.getElementById(\"placeholder\");\nlet previewCanvas = null;\nconst generateElementCanvas = (element, zoom, renderConfig) => {\n  const canvas = document.createElement(\"canvas\");\n  const context = canvas.getContext(\"2d\");\n  const padding = getCanvasPadding(element);\n  if (!rightContainer) {\n    rightContainer = document.getElementById(\"placeholder\");\n  }\n  if (previewCanvas) {\n    // rightContainer.removeChild(previewCanvas);\n  }\n  previewCanvas = canvas;\n  // rightContainer.appendChild(previewCanvas);\n\n  let canvasOffsetX = 0;\n  let canvasOffsetY = 0;\n  if (element.type === \"freedraw\") {\n    let [x1, y1, x2, y2] = getElementAbsoluteCoords(element);\n    let canvasOffsetX = 0;\n    let canvasOffsetY = 0;\n    canvas.width =\n      distance(x1, x2) * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n    canvas.height =\n      distance(y1, y2) * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n    canvasOffsetX =\n      element.x > x1\n        ? distance(element.x, x1) * window.devicePixelRatio * zoom.value\n        : 0;\n\n    canvasOffsetY =\n      element.y > y1\n        ? distance(element.y, y1) * zoom.value * window.devicePixelRatio\n        : 0;\n    context.translate(canvasOffsetX, canvasOffsetY);\n  } else {\n    canvas.width =\n      element.width * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n    canvas.height =\n      element.height * window.devicePixelRatio * zoom.value +\n      padding * zoom.value * 2;\n  }\n\n  context.save();\n  context.translate(padding * zoom.value, padding * zoom.value);\n\n  context.scale(\n    window.devicePixelRatio * zoom.value,\n    window.devicePixelRatio * zoom.value\n  );\n\n  drawElementOnCanvas(element, context, renderConfig);\n  context.restore();\n\n  return {\n    element,\n    canvas,\n    theme: renderConfig.theme,\n    canvasZoom: zoom,\n    canvasOffsetX,\n    canvasOffsetY,\n  };\n};\n\nconst drawElementOnCanvas = (element, context, renderConfig) => {\n  context.globalAlpha = element.opacity / 100;\n  switch (element.type) {\n    case \"rectangle\": {\n      context.lineJoin = \"round\";\n      context.lineCap = \"round\";\n      context.lineWidth = element.strokeWidth;\n      context.strokeStyle = element.strokeStyle;\n      context.strokeRect(0, 0, element.width, element.height);\n      break;\n    }\n    case \"text\": {\n      context.font = getFontString(element);\n      context.fillStyle = element.strokeColor;\n      context.textAlign = element.textAlign;\n      const lines = element.text.split(\"\\n\");\n      const lineHeight = lines.length ? element.height / lines.length : 18;\n      context.textBaseline = \"bottom\";\n      for (let index = 0; index < lines.length; index++) {\n        context.fillText(lines[index], 0, (index + 1) * lineHeight);\n      }\n      break;\n    }\n    case \"freedraw\": {\n      context.save();\n      context.lineWidth = element.strokeWidth;\n      context.strokeStyle = element.strokeStyle;\n      element.points.forEach((point, index) => {\n        let [x, y] = point;\n        x = x - element.x;\n        y = y - element.y;\n        if (!index) {\n          context.moveTo(x, y);\n        } else {\n          context.lineTo(x, y);\n        }\n      });\n\n      context.stroke();\n\n      context.restore();\n      break;\n    }\n    default: {\n    }\n  }\n  context.globalAlpha = 1;\n};\n\nconst getCanvasPadding = (element) =>\n  element.type === \"freedraw\" ? element.strokeWidth * 12 : 20;\n\nconst drawElementFromCanvas = (elementWithCanvas, context, renderConfig) => {\n  const element = elementWithCanvas.element;\n  const padding = getCanvasPadding(element);\n  let [x1, y1, x2, y2] = getElementAbsoluteCoords(element);\n  if (element.type === \"freedraw\") {\n    [x1, y1, x2, y2] = getElementAbsoluteCoords(element);\n  }\n  const cx = ((x1 + x2) / 2 + renderConfig.scrollX) * window.devicePixelRatio;\n  const cy = ((y1 + y2) / 2 + renderConfig.scrollY) * window.devicePixelRatio;\n  context.save();\n  context.scale(1 / window.devicePixelRatio, 1 / window.devicePixelRatio);\n  context.translate(cx, cy);\n\n  context.drawImage(\n    elementWithCanvas.canvas,\n    (-(x2 - x1) / 2) * window.devicePixelRatio -\n      (padding * elementWithCanvas.canvasZoom.value) /\n        elementWithCanvas.canvasZoom.value,\n    (-(y2 - y1) / 2) * window.devicePixelRatio -\n      (padding * elementWithCanvas.canvasZoom.value) /\n        elementWithCanvas.canvasZoom.value,\n    elementWithCanvas.canvas.width / elementWithCanvas.canvasZoom.value,\n    elementWithCanvas.canvas.height / elementWithCanvas.canvasZoom.value\n  );\n\n  context.restore();\n\n  // Clear the nested element we appended to the DOM\n};\n","import { renderElement } from \"./renderElement\";\nimport { getElementBounds, viewportCoordsToSceneCoords } from \"@/util\";\n\nexport const drawAxis = (ctx, { scrollX, scrollY, zoom }) => {\n  ctx.save();\n  const rectH = 100; // 纵轴刻度间距\n  const rectW = 100; // 横轴刻度间距\n  const tickLength = 8; // 刻度线长度\n  const canvas = ctx.canvas;\n  ctx.strokeStyle = \"red\";\n  ctx.fillStyle = \"red\";\n  // 绘制横轴和纵轴刻度\n  ctx.beginPath();\n  ctx.lineWidth = 2;\n  ctx.textBaseline = \"middle\";\n  ctx.save();\n  ctx.translate(0, scrollY);\n  for (let i = 0; i < scrollY / rectH; i++) {\n    // 绘制纵轴刻度\n    ctx.moveTo(0, -i * rectH);\n    ctx.lineTo(tickLength, -i * rectH);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(-i, 0, -i * rectH + 10);\n  }\n  for (\n    let i = 1;\n    i < (canvas.height - scrollY * zoom.value) / (rectH * zoom.value);\n    i++\n  ) {\n    // 绘制纵轴刻度\n    ctx.moveTo(0, i * rectH);\n    ctx.lineTo(tickLength, i * rectH);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(i, 0, i * rectH + 10);\n  }\n  ctx.restore();\n  ctx.save();\n  ctx.translate(scrollX, 0);\n\n  for (let i = 0; i < scrollX / rectW; i++) {\n    // 绘制横轴刻度\n    ctx.moveTo(-i * rectW, 0);\n    ctx.lineTo(-i * rectW, tickLength);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(-i, -i * rectW + 5, 5);\n  }\n  for (\n    let i = 1;\n    i < (canvas.width - scrollX * zoom.value) / (rectW * zoom.value);\n    i++\n  ) {\n    // 绘制横轴刻度\n    ctx.moveTo(i * rectW, 0);\n    ctx.lineTo(i * rectW, tickLength);\n    ctx.font = \"10px Arial\";\n    ctx.fillText(i, i * rectW + 5, 5);\n  }\n  ctx.restore();\n  ctx.stroke();\n\n  ctx.restore();\n};\n\nconst isVisibleElement = (\n  element: ExcalidrawElement,\n  canvasWidth: number,\n  canvasHeight: number,\n  viewTransformations: {\n    zoom: Zoom,\n    offsetLeft: number,\n    offsetTop: number,\n    scrollX: number,\n    scrollY: number,\n  }\n) => {\n  const [x1, y1, x2, y2] = getElementBounds(element); // scene coordinates\n  const topLeftSceneCoords = viewportCoordsToSceneCoords(\n    {\n      clientX: viewTransformations.offsetLeft,\n      clientY: viewTransformations.offsetTop,\n    },\n    viewTransformations\n  );\n  const bottomRightSceneCoords = viewportCoordsToSceneCoords(\n    {\n      clientX: viewTransformations.offsetLeft + canvasWidth,\n      clientY: viewTransformations.offsetTop + canvasHeight,\n    },\n    viewTransformations\n  );\n\n  return (\n    topLeftSceneCoords.x <= x2 &&\n    topLeftSceneCoords.y <= y2 &&\n    bottomRightSceneCoords.x >= x1 &&\n    bottomRightSceneCoords.y >= y1\n  );\n};\nexport const renderScene = ({\n  elements,\n  appState,\n  scale,\n  canvas,\n  renderConfig,\n}) => {\n  const context = canvas.getContext(\"2d\");\n\n  context.save();\n  context.scale(scale, scale);\n\n  const normalizedCanvasWidth = canvas.width / scale;\n  const normalizedCanvasHeight = canvas.height / scale;\n  context.clearRect(0, 0, normalizedCanvasWidth, normalizedCanvasHeight);\n\n  context.save();\n  // 先放大\n  context.scale(renderConfig.zoom.value, renderConfig.zoom.value);\n  drawAxis(context, renderConfig);\n\n  const visibleElements = elements.filter((element) =>\n    isVisibleElement(element, normalizedCanvasWidth, normalizedCanvasHeight, {\n      zoom: renderConfig.zoom,\n      offsetLeft: appState.offsetLeft,\n      offsetTop: appState.offsetTop,\n      scrollX: renderConfig.scrollX,\n      scrollY: renderConfig.scrollY,\n    })\n  );\n  const total = document.getElementById('canvas-total')\n  total.innerText = `总元素数：${elements.length}   可见区域内元素：${visibleElements.length}`\n  visibleElements.forEach((element) => {\n    renderElement(element, context, renderConfig, appState);\n  });\n  context.restore();\n\n  context.restore();\n  localStorage.setItem(\"elements\", JSON.stringify(elements));\n  localStorage.setItem(\"appState\", JSON.stringify(appState));\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"tools\":\"index_tools__zMZr2\",\"item\":\"index_item__g11Iy\",\"selected\":\"index_selected__kBhTn\"};","export const createIcon = (d, opts) => {\n  const {\n    width = 512,\n    height = width,\n    mirror,\n    style,\n    ...rest\n  } = typeof opts === \"number\" ? { width: opts } : opts;\n  return (\n    <svg\n      aria-hidden=\"true\"\n      focusable=\"false\"\n      role=\"img\"\n      viewBox={`0 0 ${width} ${height}`}\n      style={style}\n      {...rest}\n    >\n      {typeof d === \"string\" ? <path fill=\"currentColor\" d={d} /> : d}\n    </svg>\n  );\n};\n\nconst tablerIconProps = {\n  width: 24,\n  height: 24,\n  fill: \"none\",\n  strokeWidth: 2,\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n};\nexport const RectangleIcon = createIcon(\n  <g strokeWidth=\"1.5\">\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\n    <rect x=\"4\" y=\"4\" width=\"16\" height=\"16\" rx=\"2\"></rect>\n  </g>,\n  {\n    width: 24,\n    height: 24,\n    fill: \"none\",\n    strokeWidth: 2,\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n  }\n);\n\nexport const FreedrawIcon = createIcon(\n  <g strokeWidth=\"1.25\">\n    <path\n      clipRule=\"evenodd\"\n      d=\"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z\"\n    />\n    <path d=\"m11.25 5.417 3.333 3.333\" />\n  </g>,\n  {\n    width: 20,\n    height: 20,\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n  }\n);\n\nexport const ExportImageIcon = createIcon(\n  <g strokeWidth=\"1.25\">\n    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\n    <path d=\"M15 8h.01\"></path>\n    <path d=\"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5\"></path>\n    <path d=\"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4\"></path>\n    <path d=\"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598\"></path>\n    <path d=\"M19 16v6\"></path>\n    <path d=\"M22 19l-3 3l-3 -3\"></path>\n  </g>,\n  tablerIconProps\n);\n\nconst modifiedTablerIconProps = {\n  width: 20,\n  height: 20,\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n};\nexport const ZoomInIcon = createIcon(\n  <path strokeWidth=\"1.25\" d=\"M10 4.167v11.666M4.167 10h11.666\" />,\n  modifiedTablerIconProps\n);\n\nexport const ZoomOutIcon = createIcon(\n  <path d=\"M5 10h10\" strokeWidth=\"1.25\" />,\n  modifiedTablerIconProps\n);\n","class Scene {\n  constructor() {\n    const elements = JSON.parse(localStorage.getItem('elements'))\n    this.elements = elements || [];\n  }\n  getElementsIncludingDeleted() {\n    return this.elements;\n  }\n  replaceAllElements(nextElements) {\n    this.elements = nextElements;\n  }\n}\n\nexport const scene = new Scene();\n\nexport default Scene;\n","import React, { memo } from \"react\";\nimport styles from \"./index.module.less\";\nimport { RectangleIcon, FreedrawIcon, ExportImageIcon } from \"../icons\";\nimport { exportPng } from \"@/util/export\";\nimport { scene } from \"../../scene/scene\";\nimport { appState } from \"../../index\";\n\nconst SHAPES = [\n  {\n    type: \"rectangle\",\n    icon: RectangleIcon,\n  },\n  {\n    type: \"freedraw\",\n    icon: FreedrawIcon,\n  },\n];\nconst Index = memo(({ activeTool, onActiveToolChange }) => {\n  return (\n    <div className={styles.tools}>\n      <span\n        className={[styles.item].join(\" \")}\n        onClick={() => {\n          exportPng({\n            elements: scene.getElementsIncludingDeleted(),\n            appState,\n          });\n        }}\n      >\n        {ExportImageIcon}\n      </span>\n      {SHAPES.map((shape) => {\n        const isSelected = activeTool.type === shape.type;\n        return (\n          <span\n            key={shape.type}\n            className={[styles.item, isSelected && styles.selected].join(\" \")}\n            onClick={() =>\n              onActiveToolChange({ type: isSelected ? \"\" : shape.type })\n            }\n          >\n            {shape.icon}\n          </span>\n        );\n      })}\n    </div>\n  );\n});\n\nexport default Index;\n","// extracted by mini-css-extract-plugin\nexport default {\"scale\":\"index_scale__tdckI\",\"item\":\"index_item__LPVwi\",\"value\":\"index_value__Sl5Iv\"};","import React, { memo } from \"react\";\nimport { ZoomInIcon, ZoomOutIcon } from \"../icons\";\nimport { getNormalizedZoom } from \"@/util/zoom\";\nimport styles from \"./index.module.less\";\n\nconst ZOOM_STEP = 0.1;\nconst Scale = memo(({ appState, onZoomChange }) => {\n  const zoomValue = `${(appState.zoom.value * 100).toFixed(0)}%`;\n\n  return (\n    <div className={styles.scale}>\n      <span\n        className={[styles.item].join(\" \")}\n        onClick={() =>\n          onZoomChange(getNormalizedZoom(appState.zoom.value - ZOOM_STEP))\n        }\n      >\n        {ZoomOutIcon}\n      </span>\n      <span\n        className={styles.value}\n        onClick={() => onZoomChange(getNormalizedZoom(1))}\n      >\n        {zoomValue}\n      </span>\n      <span\n        className={[styles.item].join(\" \")}\n        onClick={() =>\n          onZoomChange(getNormalizedZoom(appState.zoom.value + ZOOM_STEP))\n        }\n      >\n        {ZoomInIcon}\n      </span>\n    </div>\n  );\n});\n\nexport default Scale;\n","// extracted by mini-css-extract-plugin\nexport default {\"layer\":\"index_layer__9zdjG\",\"ball_red\":\"index_ball_red__XCtQ0\",\"move\":\"index_move__fmRG7\",\"boundceBall\":\"index_boundceBall__Hr4T5\",\"shadowball\":\"index_shadowball__jdYKv\",\"shadowMove\":\"index_shadowMove__E0Lk0\"};","import React, { memo } from \"react\";\nimport Tools from \"../tools\";\nimport Scale from \"../scale\";\nimport styles from \"./index.module.less\";\nconst LayerUI = memo(\n  ({ activeTool, onActiveToolChange, appState, onZoomChange }) => {\n    return (\n      <div className={styles.layer}>\n        <Scale appState={appState} onZoomChange={onZoomChange} />\n        <Tools\n          activeTool={activeTool}\n          onActiveToolChange={onActiveToolChange}\n        />\n        <div className={styles.boundceBall}>\n          <div className={styles.ball_red}></div>\n          <div className={styles.shadowball}></div>\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default LayerUI;\n","// extracted by mini-css-extract-plugin\nexport default {\"textarea\":\"index_textarea__tvmWJ\",\"textarea_copy\":\"index_textarea_copy__Sd0wI\"};","import React, {\n  memo,\n  useState,\n  useRef,\n  forwardRef,\n  useImperativeHandle,\n} from \"react\";\nimport { deleteElementCache } from \"../../renderer/renderElement\";\nimport { viewportCoordsToSceneCoords, rgb, getFontString } from \"@/util\";\nimport { newTextElement } from \"../../element/newElement\";\nimport { scene } from \"../../scene/scene\";\nimport { renderScene } from \"../../renderer/renderScene\";\nimport { appState } from \"../../index\";\nimport styles from \"./index.module.less\";\n\nconst Index = forwardRef(({ staticCanvasRef }, ref) => {\n  const textareaRef = useRef(null);\n  const [textareaValue, setTextAreaValue] = useState(\"\");\n  useImperativeHandle(ref, () => ({\n    startEditText: (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      let { x: sceneX, y: sceneY } = viewportCoordsToSceneCoords(\n        event,\n        appState\n      );\n      const element = newTextElement({\n        x: sceneX,\n        y: sceneY,\n        strokeColor: rgb(),\n        backgroundColor: \"transparent\",\n        fillStyle: \"hachure\",\n        strokeWidth: 1,\n        strokeStyle: \"solid\",\n        text: \"\",\n        fontSize: 20,\n        fontFamily: \"Virgil\", // Helvetica Cascadia\n        textAlign: \"left\",\n        verticalAlign: \"top\",\n      });\n      appState.draggingElement = element;\n      const textarea = textareaRef.current;\n      textarea.focus();\n      const left = event.clientX - appState.offsetLeft;\n      const top = event.clientY - appState.offsetTop;\n      const styleObj = {\n        font: getFontString(element),\n        left: `${left}px`,\n        top: `${top}px`,\n        opacity: 1,\n        color: element.strokeColor,\n        fontSize: element.fontSize,\n      };\n      Object.assign(textarea.style, styleObj);\n      const copyTextarea = document.getElementById(\"copyText\");\n      Object.assign(copyTextarea.style, styleObj);\n      // 输入框限制最大宽度，防止输入的文字超出画布宽度\n      const maxWidth = appState.canvasWidth - left;\n      // textarea.style.maxWidth = `${maxWidth}px`;\n      // textarea.style.width = `${element.fontSize}px`;\n      // textarea.style.height = `${element.fontSize * 1.2}px`;\n      Object.assign(textarea.style, {\n        zIndex: 1,\n        maxWidth: `${maxWidth}px`,\n        width: `${element.fontSize}px`,\n        height: `${element.fontSize * 1.2}px`,\n      });\n    },\n  }));\n  return (\n    <>\n      <textarea\n        onChange={(e) => {\n          let text = e.target.value;\n          // console.log(\"tex5....\", text, text.length);\n          const textarea = textareaRef.current;\n          const maxWidth = parseFloat(textarea.style.maxWidth);\n\n          const copyTextarea = document.getElementById(\"copyText\");\n          copyTextarea.innerText = text;\n          const copyTextWidth = copyTextarea.getBoundingClientRect().width;\n          if (copyTextWidth > maxWidth) {\n            // 正常输入的情况下，两者的差值不会太大，只有粘贴进来的文本才会导致\n            // copy text宽度突然增大\n            if (copyTextWidth - maxWidth < 30) {\n              console.log(\"正常的输入\");\n              text = copyTextarea.innerText =\n                text.slice(0, text.length - 1) +\n                \"\\n\" +\n                text.slice(text.length - 1);\n            } else {\n              console.log(\"粘贴进来的文本\");\n              let lines = text.split(\"\\n\");\n              const splitResult = [];\n              lines.forEach((line) => {\n                copyTextarea.innerText = line;\n                const copyTextWidth =\n                  copyTextarea.getBoundingClientRect().width;\n                if (copyTextWidth <= maxWidth) {\n                  splitResult.push(line);\n                } else {\n                  let lastIdx = 0;\n                  for (let i = 1; i < line.length; i++) {\n                    const str = line.slice(lastIdx, i);\n                    copyTextarea.innerText = str;\n                    const copyTextWidth =\n                      copyTextarea.getBoundingClientRect().width;\n                    if (copyTextWidth > maxWidth) {\n                      splitResult.push(line.slice(lastIdx, i - 1));\n                      lastIdx = i - 1;\n                    } else if (i === line.length - 1) {\n                      splitResult.push(line.slice(lastIdx, i));\n                    }\n                  }\n                }\n              });\n              console.log(\"splitResult..\", splitResult);\n              text = splitResult.join(\"\\n\");\n              copyTextarea.innerText = text;\n            }\n          }\n\n          setTextAreaValue(text);\n          const { width, height } = copyTextarea.getBoundingClientRect();\n          textarea.style.width = `${width + 30}px`;\n          textarea.style.height = `${height}px`;\n\n          appState.draggingElement.text = text;\n        }}\n        onBlur={() => {\n          const element = appState.draggingElement;\n          const textarea = textareaRef.current;\n          const copyTextarea = document.getElementById(\"copyText\");\n          if (element.text) {\n            element.width = copyTextarea.offsetWidth;\n            element.height = copyTextarea.offsetHeight;\n            deleteElementCache(appState.draggingElement);\n            scene.replaceAllElements([\n              ...scene.getElementsIncludingDeleted(),\n              appState.draggingElement,\n            ]);\n            renderScene({\n              elements: scene.getElementsIncludingDeleted(),\n              appState: appState,\n              scale: window.devicePixelRatio,\n              canvas: staticCanvasRef.current,\n              renderConfig: {\n                selectionColor: \"#6965db\",\n                scrollX: appState.scrollX,\n                scrollY: appState.scrollY,\n                viewBackgroundColor: \"#ffffff\",\n                zoom: appState.zoom,\n              },\n            });\n            setTimeout(() => {\n              copyTextarea.innerText = \"\";\n              setTextAreaValue(\"\");\n            }, 200);\n          }\n          Object.assign(textarea.style, {\n            left: `0px`,\n            top: `0px`,\n            zIndex: -1,\n            opacity: 0,\n          });\n        }}\n        value={textareaValue}\n        className={styles.textarea}\n        ref={textareaRef}\n      ></textarea>\n      <div\n        style={{ background: \"grey\" }}\n        id=\"copyText\"\n        contentEditable={true}\n        className={[styles.textarea, styles.textarea_copy].join(\" \")}\n      ></div>\n    </>\n  );\n});\n\nexport default memo(Index);\n","import React, { memo, useRef, useEffect, useState } from \"react\";\nimport { distance } from \"@/util\";\n// import { isAndroid } from \"@/util/device\";\nimport {\n  withBatchedUpdatesThrottled,\n  viewportCoordsToSceneCoords,\n} from \"@/util\";\nimport { getNormalizedZoom, getStateForZoom } from \"@/util/zoom\";\nimport generateElements, { animateElements } from \"./generateElement\";\nimport { createElement } from \"./element/newElement\";\nimport { renderScene } from \"./renderer/renderScene\";\nimport {\n  deleteElementCache,\n  clearElementCache,\n} from \"./renderer/renderElement\";\nimport LayerUI from \"./components/layer-ui\";\nimport TextArea from \"./components/textarea\";\nimport { scene } from \"./scene/scene\";\nimport \"./index.less\";\nconst temp = JSON.parse(localStorage.getItem(\"appState\"));\nexport let appState = temp || {\n  zoom: { value: 1 },\n  scrollX: 0,\n  scrollY: 0,\n  offsetLeft: 0,\n  offsetTop: 0,\n  draggingElement: null,\n  canvasWidth: 0,\n  canvasHeight: 0,\n};\nconst ZOOM_STEP = 0.1;\n\nconst Canvas = memo(() => {\n  const canvasRef = useRef(null);\n  const canvasContainer = useRef(null);\n  const staticCanvasRef = useRef(null);\n  const cursorPosition = useRef({});\n  const textareaRef = useRef(null);\n  const rafRef = useRef(null);\n  const globalVarRef = useRef({});\n  const [flag, refreshFlag] = useState(false);\n  const [activeTool, setActiveTool] = useState({ type: \"\" });\n  const [testObj, setTestObj] = useState({ count: \"\", type: \"rectangle\" });\n  const [animate, setAnimate] = useState(false);\n  const animateRef = useRef();\n  const refresh = () => {\n    refreshFlag(!flag);\n  };\n  useEffect(() => {\n    const setCanvasSize = (canvas) => {\n      canvas.width = offsetWidth * window.devicePixelRatio;\n      canvas.height = offsetHeight * window.devicePixelRatio;\n    };\n\n    // canvas分辨率矫正\n    const canvas = canvasRef.current;\n    const { offsetWidth, offsetHeight } = canvas;\n    setCanvasSize(canvas);\n    setCanvasSize(staticCanvasRef.current);\n\n    const { x, y } = canvas.getBoundingClientRect();\n    appState.offsetLeft = x;\n    appState.offsetTop = y;\n    appState.canvasWidth = offsetWidth;\n    appState.canvasHeight = offsetHeight;\n\n    // 绘制静态canvas\n    renderScene({\n      elements: scene.getElementsIncludingDeleted(),\n      appState: appState,\n      scale: window.devicePixelRatio,\n      canvas: staticCanvasRef.current,\n      renderConfig: {\n        selectionColor: \"#6965db\",\n        scrollX: appState.scrollX,\n        scrollY: appState.scrollY,\n        viewBackgroundColor: \"#ffffff\",\n        zoom: appState.zoom,\n      },\n    });\n  }, []);\n  useEffect(() => {\n    const wrap = canvasContainer.current;\n    const handleWheel = (e) => {\n      e.preventDefault();\n    };\n    // 防止双指滑动时切换页面\n    wrap.addEventListener(\"wheel\", handleWheel, {\n      passive: false,\n    });\n    const updateCurrentCursorPosition = (event) => {\n      cursorPosition.current = {\n        cursorX: event.clientX,\n        cursorY: event.clientY,\n      };\n    };\n    const onTapStart = (e) => {\n      e.preventDefault();\n    };\n    const canvas = canvasRef.current;\n    canvas.addEventListener(\"touchstart\", onTapStart);\n    document.addEventListener(\"mousemove\", updateCurrentCursorPosition);\n    return () => {\n      canvas.removeEventListener(\"touchstart\", onTapStart);\n\n      wrap.removeEventListener(\"wheel\", handleWheel);\n      document.removeEventListener(\"mousemove\", updateCurrentCursorPosition);\n    };\n  }, []);\n  useEffect(() => {\n    let frame = 0;\n    let startTime = Date.now();\n\n    const loop = () => {\n      const currentTime = Date.now();\n      frame++;\n\n      if (currentTime > 1000 + startTime) {\n        const fps = Math.round((frame * 1000) / (currentTime - startTime));\n        rafRef.current.innerText = `FPS：${fps}`;\n        frame = 0;\n        startTime = currentTime;\n      }\n\n      requestAnimationFrame(loop);\n    };\n\n    loop();\n  }, []);\n  const reDrawAfterZoom = () => {\n    renderScene({\n      elements: scene.getElementsIncludingDeleted(),\n      appState: appState,\n      scale: window.devicePixelRatio,\n      canvas: staticCanvasRef.current,\n      renderConfig: {\n        selectionColor: \"#6965db\",\n        scrollX: appState.scrollX,\n        scrollY: appState.scrollY,\n        viewBackgroundColor: \"#ffffff\",\n        zoom: appState.zoom,\n      },\n    });\n    if (globalVarRef.current.zoomTimerId) {\n      clearTimeout(globalVarRef.current.zoomTimerId);\n    }\n    globalVarRef.current.zoomTimerId = setTimeout(() => {\n      clearElementCache();\n      renderScene({\n        elements: scene.getElementsIncludingDeleted(),\n        appState: appState,\n        scale: window.devicePixelRatio,\n        canvas: staticCanvasRef.current,\n        renderConfig: {\n          selectionColor: \"#6965db\",\n          scrollX: appState.scrollX,\n          scrollY: appState.scrollY,\n          viewBackgroundColor: \"#ffffff\",\n          zoom: appState.zoom,\n        },\n      });\n    }, 300);\n  };\n  const handleCanvasWheel = (event) => {\n    const { deltaX, deltaY } = event;\n    // 关于缩放：双指放大时，deltaY是负数，缩小时，deltaY是正数\n    // 缩放，本质上就是对某个点的坐标进行变换\n    if (event.metaKey || event.ctrlKey) {\n      const sign = Math.sign(deltaY); // 只有两种情况，要么+1，要么-1\n      const MAX_STEP = ZOOM_STEP * 100; // 10\n      const absDelta = Math.abs(deltaY);\n      let delta = deltaY;\n      // delta最大为10\n      if (absDelta > MAX_STEP) {\n        delta = MAX_STEP * sign;\n      }\n      let newZoom = appState.zoom.value - delta / 100;\n      newZoom +=\n        Math.log10(Math.max(1, appState.zoom.value)) *\n        -sign *\n        Math.min(1, absDelta / 20);\n      const nextZoom = getNormalizedZoom(newZoom);\n      Object.assign(appState, {\n        ...getStateForZoom(\n          {\n            viewportX: cursorPosition.current.cursorX,\n            viewportY: cursorPosition.current.cursorY,\n            nextZoom: nextZoom,\n          },\n          appState\n        ),\n      });\n      // renderScene(canvasRef.current, appState);\n      refresh();\n      reDrawAfterZoom();\n      return;\n    }\n    appState.scrollX = appState.scrollX - deltaX;\n    appState.scrollY = appState.scrollY - deltaY;\n\n    // 在滚动画布的过程中，只绘制底层的canvas\n    renderScene({\n      elements: scene.getElementsIncludingDeleted(),\n      appState: appState,\n      scale: window.devicePixelRatio,\n      canvas: staticCanvasRef.current,\n      renderConfig: {\n        selectionColor: \"#6965db\",\n        scrollX: appState.scrollX,\n        scrollY: appState.scrollY,\n        viewBackgroundColor: \"#ffffff\",\n        zoom: appState.zoom,\n      },\n    });\n  };\n\n  const handleCanvasPointerDown = (event) => {\n    if (!activeTool.type) return;\n    const pointerDownState = initialPointerDownState(event);\n    const element = createElement({\n      elementType: activeTool.type,\n      pointerDownState,\n      appState,\n    });\n    appState.draggingElement = element;\n    deleteElementCache(element);\n    const onPointerMove =\n      onPointerMoveFromCanvasPointerDownHandler(pointerDownState);\n    const onPointerUp =\n      onPointerUpFromCanvasPointerDownHandler(pointerDownState);\n    window.addEventListener(\"pointermove\", onPointerMove);\n    window.addEventListener(\"pointerup\", onPointerUp);\n    pointerDownState.eventListeners.onMove = onPointerMove;\n    pointerDownState.eventListeners.onUp = onPointerUp;\n  };\n\n  const onPointerMoveFromCanvasPointerDownHandler = (pointerDownState) =>\n    withBatchedUpdatesThrottled((event) => {\n      const pointerCoords = viewportCoordsToSceneCoords(event, appState);\n      pointerDownState.lastCoords.x = pointerCoords.x;\n      pointerDownState.lastCoords.y = pointerCoords.y;\n      if (activeTool.type === \"freedraw\") {\n        appState.draggingElement.points.push([\n          pointerCoords.x,\n          pointerCoords.y,\n        ]);\n      } else {\n        const pointerCoords = pointerDownState.lastCoords;\n        const originX = pointerDownState.origin.x;\n        const originY = pointerDownState.origin.y;\n        const x = pointerCoords.x;\n        const y = pointerCoords.y;\n        const width = distance(pointerDownState.origin.x, pointerCoords.x);\n        const height = distance(pointerDownState.origin.y, pointerCoords.y);\n        let newX = x < originX ? originX - width : originX;\n        let newY = y < originY ? originY - height : originY;\n        appState.draggingElement.x = newX;\n        appState.draggingElement.y = newY;\n        appState.draggingElement.width = width;\n        appState.draggingElement.height = height;\n      }\n      deleteElementCache(appState.draggingElement);\n      // 在移动过程中，先在顶层canvas绘制\n      renderScene({\n        elements: [appState.draggingElement],\n        appState: appState,\n        scale: window.devicePixelRatio,\n        canvas: canvasRef.current,\n        renderConfig: {\n          selectionColor: \"#6965db\",\n          scrollX: appState.scrollX,\n          scrollY: appState.scrollY,\n          viewBackgroundColor: \"#ffffff\",\n          zoom: appState.zoom,\n        },\n      });\n    });\n\n  const onPointerUpFromCanvasPointerDownHandler =\n    (pointerDownState) => (event) => {\n      // deleteElementCache(appState.draggingElement);\n      scene.replaceAllElements([\n        ...scene.getElementsIncludingDeleted(),\n        appState.draggingElement,\n      ]);\n      console.log(\"pointer up appState...\", appState);\n\n      // 鼠标抬起后，先清空顶层的cavans\n      const canvas = canvasRef.current;\n      const context = canvas.getContext(\"2d\");\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      // 重绘底层canvas\n      renderScene({\n        elements: scene.getElementsIncludingDeleted(),\n        appState: appState,\n        scale: window.devicePixelRatio,\n        canvas: staticCanvasRef.current,\n        renderConfig: {\n          selectionColor: \"#6965db\",\n          scrollX: appState.scrollX,\n          scrollY: appState.scrollY,\n          viewBackgroundColor: \"#ffffff\",\n          zoom: appState.zoom,\n        },\n      });\n      window.removeEventListener(\n        \"pointermove\",\n        pointerDownState.eventListeners.onMove\n      );\n      window.removeEventListener(\n        \"pointerup\",\n        pointerDownState.eventListeners.onUp\n      );\n    };\n\n  const initialPointerDownState = (event) => {\n    const origin = viewportCoordsToSceneCoords(event, appState);\n    return {\n      origin,\n      lastCoords: { ...origin },\n      eventListeners: {\n        onMove: null,\n        onUp: null,\n        onKeyUp: null,\n        onKeyDown: null,\n      },\n    };\n  };\n\n  const handleCanvasDoubleClick = (event) => {\n    if (activeTool.type) return;\n    // 创建新的文本元素\n    textareaRef.current.startEditText(event);\n  };\n  return (\n    <div ref={canvasContainer}>\n      {/* <div className=\"refer\">\n        参照物\n      </div> */}\n      <div className=\"container wrap\">\n        <canvas ref={staticCanvasRef} className=\"canvas\">\n          静态canvas\n        </canvas>\n        <canvas\n          ref={canvasRef}\n          className=\"canvas draw\"\n          onWheel={handleCanvasWheel}\n          onPointerDown={handleCanvasPointerDown}\n          onDoubleClick={handleCanvasDoubleClick}\n        >\n          动态canvas\n        </canvas>\n        <LayerUI\n          activeTool={activeTool}\n          onZoomChange={(zoomVal) => {\n            if (appState.zoom.value === zoomVal) return;\n            Object.assign(appState, {\n              ...getStateForZoom(\n                {\n                  viewportX: appState.canvasWidth / 2 + appState.offsetLeft,\n                  viewportY: appState.canvasHeight / 2 + appState.offsetTop,\n                  nextZoom: zoomVal,\n                },\n                appState\n              ),\n            });\n            refresh();\n            reDrawAfterZoom();\n          }}\n          appState={{ ...appState }}\n          onActiveToolChange={(value) => {\n            setActiveTool(value);\n          }}\n        />\n        <TextArea ref={textareaRef} staticCanvasRef={staticCanvasRef} />\n      </div>\n      <div>\n        <span ref={rafRef}>FPS：--</span>\n        <span className=\"total\" id=\"canvas-total\"></span>\n      </div>\n      <div className=\"row\">\n        <input\n          type=\"number\"\n          value={testObj.count}\n          onChange={(e) => setTestObj({ ...testObj, count: e.target.value })}\n        />\n        <select\n          value={testObj.type}\n          onChange={(e) => setTestObj({ ...testObj, type: e.target.value })}\n        >\n          <option value=\"freedraw\">freedraw</option>\n          <option value=\"rectangle\">rectangle</option>\n          <option value=\"text\">text</option>\n        </select>\n        <button\n          onClick={() => {\n            const elements = generateElements(\n              Number(testObj.count),\n              testObj.type,\n              appState\n            );\n            scene.replaceAllElements([\n              ...scene.getElementsIncludingDeleted(),\n              ...elements,\n            ]);\n            renderScene({\n              elements: scene.getElementsIncludingDeleted(),\n              appState: appState,\n              scale: window.devicePixelRatio,\n              canvas: staticCanvasRef.current,\n              renderConfig: {\n                selectionColor: \"#6965db\",\n                scrollX: appState.scrollX,\n                scrollY: appState.scrollY,\n                viewBackgroundColor: \"#ffffff\",\n                zoom: appState.zoom,\n              },\n            });\n          }}\n        >\n          生成\n        </button>\n        <button\n          onClick={() => {\n            setAnimate(!animate);\n            if (animateRef.current) {\n              cancelAnimationFrame(animateRef.current);\n            }\n            if (animate) return;\n            let diffTime = 100;\n            let lastDate = Date.now();\n            const tick = () => {\n              const currentDate = Date.now();\n              if (currentDate - lastDate >= diffTime) {\n                lastDate = currentDate;\n                const elements = animateElements(\n                  scene.getElementsIncludingDeleted(),\n                  appState\n                );\n                renderScene({\n                  elements: elements,\n                  appState: appState,\n                  scale: window.devicePixelRatio,\n                  canvas: staticCanvasRef.current,\n                  renderConfig: {\n                    selectionColor: \"#6965db\",\n                    scrollX: appState.scrollX,\n                    scrollY: appState.scrollY,\n                    viewBackgroundColor: \"#ffffff\",\n                    zoom: appState.zoom,\n                  },\n                });\n              }\n\n              animateRef.current = requestAnimationFrame(tick);\n            };\n            animateRef.current = requestAnimationFrame(tick);\n          }}\n        >\n          {animate ? \"停止动画\" : \"动画\"}\n        </button>\n      </div>\n      <div id=\"placeholder\"></div>\n    </div>\n  );\n});\n\nexport default Canvas;\n","import { getCommonBounds, distance } from \"./index\";\nimport { renderScene } from '@/pages/canvas/renderer/renderScene'\nconst getCanvasSize = (elements, exportPadding) => {\n  const [minX, minY, maxX, maxY] = getCommonBounds(elements);\n  const width = distance(minX, maxX) + exportPadding * 2;\n  const height = distance(minY, maxY) + exportPadding + exportPadding;\n\n  return [minX, minY, width, height];\n};\nexport const exportPng = ({ elements, appState }) => {\n  const exportPadding = 10;\n  const [minX, minY, width, height] = getCanvasSize(elements, exportPadding);\n\n  console.log(\"export...\", minX, minY, width, height);\n  const canvas = document.createElement(\"canvas\");\n  canvas.width = width * window.devicePixelRatio;\n  canvas.height = height * window.devicePixelRatio;\n  // const context = canvas.getContext(\"2d\");\n  // context.scale(window.devicePixelRatio, window.devicePixelRatio);\n\n  renderScene({\n    elements,\n    appState: {\n      ...appState,\n      scrollX: -minX + exportPadding,\n      scrollY: -minY + exportPadding,\n    },\n    scale: window.devicePixelRatio,\n    canvas: canvas,\n    renderConfig: {\n      selectionColor: \"#6965db\",\n      scrollX: -minX + exportPadding,\n      scrollY: -minY + exportPadding,\n      viewBackgroundColor: \"#ffffff\",\n      zoom: 1,\n    },\n  });\n  console.log(\"导出\", elements);\n  var a = document.createElement(\"a\");\n  a.href = canvas.toDataURL();\n  a.download = \"canvas.png\";\n  a.click();\n};\n","import { unstable_batchedUpdates } from \"react-dom\";\n\nexport const sceneCoordsToViewportCoords = (\n  { sceneX, sceneY },\n  { offsetLeft, offsetTop, scrollX, scrollY }\n) => {\n  const x = sceneX + scrollX + offsetLeft;\n  const y = sceneY + scrollY + offsetTop;\n  return { x, y };\n};\nexport const viewportCoordsToSceneCoords = (\n  { clientX, clientY },\n  { zoom, offsetLeft, offsetTop, scrollX, scrollY }\n) => {\n  const zoomValue = zoom ? zoom.value : 1;\n  const x = (clientX - offsetLeft) / zoomValue - scrollX;\n  const y = (clientY - offsetTop) / zoomValue - scrollY;\n  return { x, y };\n};\n\n//rgb颜色随机\nexport const rgb = () => {\n  const r = Math.floor(Math.random() * 256);\n  const g = Math.floor(Math.random() * 256);\n  const b = Math.floor(Math.random() * 256);\n  return `rgb(${r},${g},${b})`;\n};\n\nexport const throttleRAF = (fn, opts) => {\n  let timerId = null;\n  let lastArgs = null;\n  let lastArgsTrailing = null;\n\n  const scheduleFunc = (args) => {\n    timerId = window.requestAnimationFrame(() => {\n      timerId = null;\n      fn(...args);\n      lastArgs = null;\n      if (lastArgsTrailing) {\n        lastArgs = lastArgsTrailing;\n        lastArgsTrailing = null;\n        scheduleFunc(lastArgs);\n      }\n    });\n  };\n\n  const ret = (...args) => {\n    if (process.env.NODE_ENV === \"test\") {\n      fn(...args);\n      return;\n    }\n    lastArgs = args;\n    if (timerId === null) {\n      scheduleFunc(lastArgs);\n    } else if (opts?.trailing) {\n      lastArgsTrailing = args;\n    }\n  };\n  ret.flush = () => {\n    if (timerId !== null) {\n      cancelAnimationFrame(timerId);\n      timerId = null;\n    }\n    if (lastArgs) {\n      fn(...(lastArgsTrailing || lastArgs));\n      lastArgs = lastArgsTrailing = null;\n    }\n  };\n  ret.cancel = () => {\n    lastArgs = lastArgsTrailing = null;\n    if (timerId !== null) {\n      cancelAnimationFrame(timerId);\n      timerId = null;\n    }\n  };\n  return ret;\n};\nexport const withBatchedUpdatesThrottled = (func) => {\n  return throttleRAF((event) => {\n    unstable_batchedUpdates(func, event);\n  });\n};\n\nexport const getBoundsFromPoints = (element) => {\n  let minX = Infinity;\n  let minY = Infinity;\n  let maxX = -Infinity;\n  let maxY = -Infinity;\n  let points = element.points;\n  if (element.type === \"freedraw\") {\n    points = element.points.map((p) => {\n      return [p[0] - element.x, p[1] - element.y];\n    });\n  }\n  for (const [x, y] of points) {\n    minX = Math.min(minX, x);\n    minY = Math.min(minY, y);\n    maxX = Math.max(maxX, x);\n    maxY = Math.max(maxY, y);\n  }\n\n  return [minX, minY, maxX, maxY];\n};\n\nexport const rotate = (x1, y1, x2, y2, angle) =>\n  // 𝑎′𝑥=(𝑎𝑥−𝑐𝑥)cos𝜃−(𝑎𝑦−𝑐𝑦)sin𝜃+𝑐𝑥\n  // 𝑎′𝑦=(𝑎𝑥−𝑐𝑥)sin𝜃+(𝑎𝑦−𝑐𝑦)cos𝜃+𝑐𝑦.\n  // https://math.stackexchange.com/questions/2204520/how-do-i-rotate-a-line-segment-in-a-specific-point-on-the-line\n  [\n    (x1 - x2) * Math.cos(angle) - (y1 - y2) * Math.sin(angle) + x2,\n    (x1 - x2) * Math.sin(angle) + (y1 - y2) * Math.cos(angle) + y2,\n  ];\n\nexport const getElementBounds = (element) => {\n  let bounds;\n\n  const [x1, y1, x2, y2, cx, cy] = getElementAbsoluteCoords(element);\n\n  if (element.type === \"freedraw\") {\n    const [minX, minY, maxX, maxY] = getBoundsFromPoints(element);\n\n    return [\n      minX + element.x,\n      minY + element.y,\n      maxX + element.x,\n      maxY + element.y,\n    ];\n  } else {\n    const [x11, y11] = rotate(x1, y1, cx, cy, element.angle);\n    const [x12, y12] = rotate(x1, y2, cx, cy, element.angle);\n    const [x22, y22] = rotate(x2, y2, cx, cy, element.angle);\n    const [x21, y21] = rotate(x2, y1, cx, cy, element.angle);\n    const minX = Math.min(x11, x12, x22, x21);\n    const minY = Math.min(y11, y12, y22, y21);\n    const maxX = Math.max(x11, x12, x22, x21);\n    const maxY = Math.max(y11, y12, y22, y21);\n    bounds = [minX, minY, maxX, maxY];\n  }\n\n  return bounds;\n};\nexport const getCommonBounds = (elements) => {\n  if (!elements.length) {\n    return [0, 0, 0, 0];\n  }\n\n  let minX = Infinity;\n  let maxX = -Infinity;\n  let minY = Infinity;\n  let maxY = -Infinity;\n\n  elements.forEach((element) => {\n    const [x1, y1, x2, y2] = getElementBounds(element);\n    minX = Math.min(minX, x1);\n    minY = Math.min(minY, y1);\n    maxX = Math.max(maxX, x2);\n    maxY = Math.max(maxY, y2);\n  });\n\n  return [minX, minY, maxX, maxY];\n};\nexport const getElementAbsoluteCoords = (element) => {\n  if (element.type === \"freedraw\") {\n    const [minX, minY, maxX, maxY] = getBoundsFromPoints(element);\n    const x1 = minX + element.x;\n    const y1 = minY + element.y;\n    const x2 = maxX + element.x;\n    const y2 = maxY + element.y;\n    return [x1, y1, x2, y2, (x1 + x2) / 2, (y1 + y2) / 2];\n  }\n  return [\n    element.x,\n    element.y,\n    element.x + element.width,\n    element.y + element.height,\n    element.x + element.width / 2,\n    element.y + element.height / 2,\n  ];\n};\n\nexport const distance = (x, y) => Math.abs(x - y);\n\nexport const getSizeFromPoints = (points) => {\n  const xs = points.map((point) => point[0]);\n  const ys = points.map((point) => point[1]);\n  return {\n    width: Math.max(...xs) - Math.min(...xs),\n    height: Math.max(...ys) - Math.min(...ys),\n  };\n};\n\nlet testIdBase = 0;\nexport const randomId = () => `id${testIdBase++}`;\nexport const randomInteger = () => Math.floor(Math.random() * 2 ** 31);\n\nexport const generateExcalidrawElements = () => {\n  const freeDrawElements =\n    JSON.parse(localStorage.getItem(\"free-draw-elements\")) || [];\n  const result = freeDrawElements.map((ele) => {\n    const points = ele.points.map((p) => {\n      return [p[0] - ele.x, p[1] - ele.y];\n    });\n    const { width, height } = getSizeFromPoints(points);\n    return {\n      id: randomId(),\n      type: \"freedraw\",\n      x: ele.x,\n      y: ele.y,\n      width: width,\n      height: height,\n      angle: 0,\n      strokeColor: ele.strokeStyle,\n      backgroundColor: \"transparent\",\n      fillStyle: \"hachure\",\n      strokeWidth: 1,\n      strokeStyle: \"solid\",\n      roughness: 1,\n      opacity: 100,\n      groupIds: [],\n      roundness: null,\n      seed: randomInteger(),\n      version: 1,\n      versionNonce: 0,\n      isDeleted: false,\n      boundElements: null,\n      updated: Date.now(),\n      link: null,\n      locked: false,\n      points: points,\n      pressures: [],\n      simulatePressure: true,\n      lastCommittedPoint: points[points.length - 1],\n    };\n  });\n  return result;\n};\n\nwindow.__generateExcalidrawElements = generateExcalidrawElements;\n\nexport const getFontString = ({ fontSize, fontFamily }) => {\n  return `${fontSize}px ${fontFamily}, Segoe UI Emoji`;\n};\n","const MIN_ZOOM = 0.1;\n\nexport const getNormalizedZoom = (zoom) => {\n  return Math.max(MIN_ZOOM, Math.min(zoom, 30));\n};\n\nexport const getStateForZoom = (\n  { viewportX, viewportY, nextZoom },\n  appState\n) => {\n  const screenX = viewportX - appState.offsetLeft;\n  const screenY = viewportY - appState.offsetTop;\n  const currentZoom = appState.zoom.value;\n\n  return {\n    scrollX: appState.scrollX + screenX / nextZoom - screenX / currentZoom,\n    scrollY: appState.scrollY + screenY / nextZoom - screenY / currentZoom,\n    zoom: {\n      value: nextZoom,\n    },\n  };\n};\n"],"names":["renderElement","element","context","renderConfig","appState","elementWithCanvas","generateElementWithCanvas","drawElementFromCanvas","elementWithCanvasCache","WeakMap","deleteElementCache","delete","clearElementCache","prevElementWithCanvas","get","generateElementCanvas","zoom","set","rightContainer","document","getElementById","canvas","createElement","getContext","padding","getCanvasPadding","type","canvasOffsetX","canvasOffsetY","getElementAbsoluteCoords","x1","y1","x2","y2","width","distance","window","devicePixelRatio","value","height","x","y","translate","save","scale","drawElementOnCanvas","restore","theme","canvasZoom","globalAlpha","opacity","lineJoin","lineCap","lineWidth","strokeWidth","strokeStyle","strokeRect","font","getFontString","fillStyle","strokeColor","textAlign","lines","text","split","lineHeight","length","textBaseline","index","fillText","points","forEach","point","lineTo","moveTo","stroke","cx","scrollX","cy","scrollY","drawImage","renderScene","elements","normalizedCanvasWidth","normalizedCanvasHeight","clearRect","ctx","rectH","rectW","beginPath","i","drawAxis","visibleElements","filter","canvasWidth","canvasHeight","viewTransformations","getElementBounds","topLeftSceneCoords","viewportCoordsToSceneCoords","clientX","offsetLeft","clientY","offsetTop","bottomRightSceneCoords","isVisibleElement","innerText","localStorage","setItem","JSON","stringify","newElement","backgroundColor","angle","rest","id","randomId","isDeleted","elementType","pointerDownState","origin","currentItemStrokeColor","currentItemBackgroundColor","currentItemFillStyle","currentItemStrokeWidth","rgb","getRandomValue","n","m","Number","Math","random","toFixed","count","console","log","abs","push","createIcon","d","opts","style","mirror","focusable","role","viewBox","fill","RectangleIcon","rx","strokeLinecap","strokeLinejoin","FreedrawIcon","clipRule","ExportImageIcon","modifiedTablerIconProps","ZoomInIcon","ZoomOutIcon","Scene","parse","getItem","this","nextElements","scene","SHAPES","icon","memo","activeTool","onActiveToolChange","className","styles","join","onClick","exportPng","getElementsIncludingDeleted","map","shape","isSelected","Scale","onZoomChange","zoomValue","getNormalizedZoom","LayerUI","Index","forwardRef","ref","staticCanvasRef","textareaRef","useRef","useState","textareaValue","setTextAreaValue","useImperativeHandle","startEditText","event","preventDefault","stopPropagation","sceneX","sceneY","fontSize","fontFamily","verticalAlign","originalText","draggingElement","textarea","current","focus","left","top","styleObj","color","Object","assign","copyTextarea","maxWidth","zIndex","onChange","e","target","parseFloat","copyTextWidth","getBoundingClientRect","slice","splitResult","line","lastIdx","str","onBlur","offsetWidth","offsetHeight","replaceAllElements","selectionColor","viewBackgroundColor","setTimeout","background","contentEditable","canvasRef","canvasContainer","cursorPosition","rafRef","globalVarRef","flag","refreshFlag","setActiveTool","testObj","setTestObj","animate","setAnimate","animateRef","refresh","useEffect","setCanvasSize","wrap","handleWheel","addEventListener","passive","updateCurrentCursorPosition","cursorX","cursorY","onTapStart","removeEventListener","frame","startTime","Date","now","loop","currentTime","fps","round","requestAnimationFrame","reDrawAfterZoom","zoomTimerId","clearTimeout","onPointerMoveFromCanvasPointerDownHandler","withBatchedUpdatesThrottled","pointerCoords","lastCoords","originX","originY","newX","newY","onPointerUpFromCanvasPointerDownHandler","eventListeners","onMove","onUp","initialPointerDownState","onKeyUp","onKeyDown","onWheel","deltaX","deltaY","metaKey","ctrlKey","sign","absDelta","delta","ZOOM_STEP","newZoom","log10","max","min","nextZoom","getStateForZoom","viewportX","viewportY","onPointerDown","onPointerMove","onPointerUp","onDoubleClick","zoomVal","generateElements","cancelAnimationFrame","lastDate","tick","currentDate","el","animateElements","exportPadding","getCommonBounds","minX","minY","maxX","maxY","getCanvasSize","a","href","toDataURL","download","click","r","floor","g","b","func","fn","timerId","lastArgs","lastArgsTrailing","scheduleFunc","args","ret","trailing","flush","cancel","throttleRAF","unstable_batchedUpdates","getBoundsFromPoints","Infinity","p","rotate","cos","sin","x11","y11","x12","y12","x22","y22","x21","y21","testIdBase","__generateExcalidrawElements","ele","xs","ys","getSizeFromPoints","roughness","groupIds","roundness","seed","version","versionNonce","boundElements","updated","link","locked","pressures","simulatePressure","lastCommittedPoint","screenX","screenY","currentZoom"],"sourceRoot":""}