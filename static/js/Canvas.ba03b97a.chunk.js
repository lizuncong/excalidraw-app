"use strict";(self.webpackChunkexcalidraw_app=self.webpackChunkexcalidraw_app||[]).push([[343],{1414:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(2791),o=function(e,t){var n=e.canvas;e.clearRect(0,0,n.width,n.height),function(e,t){var n=t.scrollX,r=t.scrollY;e.save();var o=e.canvas;e.translate(n,r),e.beginPath(),e.lineWidth=2;for(var l=0;l<o.width/30;l++)e.moveTo(0,30*l),e.lineTo(15,30*l),e.font="20px Arial",e.fillText(l,0,30*l),e.moveTo(30*l,0),e.lineTo(30*l,15),e.font="20px Arial",e.fillText(l,30*l,8);e.stroke(),e.restore()}(e,t),function(e,t){var n=t.scrollX,r=t.scrollY;e.save(),e.translate(n,r),e.fillStyle="rgba(0, 0, 200, 0.04)",e.fillRect(0,0,200,200),e.lineWidth=1,e.strokeStyle="rgb(105, 101, 219)",e.strokeRect(0,0,200,200),e.restore()}(e,t)},l=n(184),c=(0,r.memo)((function(){var e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,r.useRef)({scrollX:0,scrollY:0,offsetLeft:0,offsetTop:0});(0,r.useEffect)((function(){var t=e.current,r=t.getContext("2d"),l=t.offsetWidth,c=t.offsetHeight,i=t.offsetLeft,s=t.offsetTop;t.width=l*window.devicePixelRatio,t.height=c*window.devicePixelRatio,n.current.offsetLeft=i,n.current.offsetTop=s,o(r,n.current)}),[]),(0,r.useEffect)((function(){var e=t.current,n=function(e){e.preventDefault()};return e.addEventListener("wheel",n,{passive:!1}),function(){e.removeEventListener("wheel",n)}}),[]);var c=function(e){console.log("handleWindowPointerMove=========",e.target)};return(0,l.jsx)("div",{ref:t,children:(0,l.jsx)("canvas",{onWheel:function(t){var r=t.deltaX,l=t.deltaY;n.current.scrollX=n.current.scrollX-r,n.current.scrollY=n.current.scrollY-l,o(e.current.getContext("2d"),n.current),console.log("wheel",n.current.scrollX,n.current.scrollY)},onPointerDown:function(e){console.log("pointer down===",e),window.addEventListener("pointermove",c)},onPointerUp:function(e){window.removeEventListener("pointermove",c)},ref:e,className:"canvas",children:"\u7ed8\u5236canvas"})})})),i=c}}]);
//# sourceMappingURL=Canvas.ba03b97a.chunk.js.map