"use strict";(this.webpackChunkexcalidraw_app=this.webpackChunkexcalidraw_app||[]).push([[871],{45650:function(e,n,t){t.d(n,{Z:function(){return m}});var a=t(1413),r=t(44925),i=t(29439),s=t(4519),c=t(19149),u=t(49410),o=t(88106),l=t(1695),d=(t(99011),t(2556)),h=["node","inline","className","children"];var m=function(e){var n=e.src,t=(0,s.useState)(""),m=(0,i.Z)(t,2),f=m[0],v=m[1];return(0,s.useEffect)((function(){fetch(n).then((function(e){return e.text()})).then((function(e){v(e)}))}),[n]),(0,d.jsx)("div",{className:"markdown-body",children:(0,d.jsx)(c.D,{children:f,rehypePlugins:[l.Z],remarkPlugins:[u.Z],components:{code:function(e){e.node;var n=e.inline,t=e.className,i=e.children,s=(0,r.Z)(e,h),c=/language-(\w+)/.exec(t||"");return!n&&c?(0,d.jsx)(o.Z,(0,a.Z)({children:String(i).replace(/\n$/,""),language:c[1],className:"my-code",PreTag:"div"},s)):(0,d.jsx)("code",(0,a.Z)((0,a.Z)({className:t},s),{},{children:i}))}}})})}},49452:function(e,n,t){t.r(n),t.d(n,{default:function(){return w},isCanvasExceedsMaximumSize:function(){return x}});var a=t(29439),r=t(4519),i=t(45650),s=t.p+"static/media/canvas\u6700\u5927\u5c3a\u5bf8\u9650\u5236.9efb2216c7d115a8e148.md",c=function(){var e,n,t=new Promise((function(t,a){e=t,n=a}));return t.resolve=e,t.reject=n,t}(),u=0,o=new MessageChannel,l=o.port2;o.port1.onmessage=function(){var e=(new Date).getTime();for(;m<h;){if(++u>1e3)return 0;var n=Math.floor(h/d);if(x(d,n)?(f=Math.min(n,f),h=parseInt((m+h)/2)):(m=h,h=Math.min(2*h,d*f)),(new Date).getTime()-e>5)break}m<h?l.postMessage(null):c.resolve({max:h,areaCount:u})};var d=0,h=1e3*d,m=d,f=0;var v=t(2556),g=0,x=function(e,n){var t=document.createElement("canvas");t.width=e,t.height=n,t.getContext("2d").fillRect(e-1,n-1,1,1);var a=document.createElement("canvas");a.width=1,a.height=1;var r=a.getContext("2d");return r.drawImage(t,e-1,n-1,1,1,0,0,1,1),!(r&&0!==r.getImageData(0,0,1,1).data[3])},p=function(){for(var e=65535,n=1e3,t=1/0;n<e;){if(++g>1e3)return 0;x(e,1)?(t=Math.min(e,t),e=parseInt((n+e)/2)):(n=e,e=Math.min(2*e,t))}return e}();var w=function(){var e=(0,r.useRef)(null),n=(0,r.useState)(p),t=(0,a.Z)(n,2),u=t[0],o=t[1],x=(0,r.useState)(1),w=(0,a.Z)(x,2),j=w[0],C=w[1],Z=(0,r.useState)({max:"--",areaCount:"--"}),N=(0,a.Z)(Z,2),b=N[0],M=N[1];return(0,r.useEffect)((function(){var e;(e=p,h=10*e,m=e,d=e,f=e,l.postMessage(null),c.then((function(e){return Promise.resolve(e)}))).then((function(e){M(e)}))}),[]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"row",children:["\u6700\u5927\u5bbd\u5ea6\uff1a",p,"\uff0c\u6700\u5927\u9ad8\u5ea6\uff1a",p,"\uff0c\u7b97\u6cd5\u67e5\u627e\u6b21\u6570\uff1a",g]}),(0,v.jsxs)("div",{children:["\u6700\u5927\u9762\u79ef\uff1a",b.max,"\uff0c\u7b97\u6cd5\u67e5\u627e\u6b21\u6570\uff1a",b.areaCount]}),(0,v.jsxs)("div",{className:"row",children:["\u5bbd\u5ea6\uff1a",(0,v.jsx)("input",{type:"number",value:u,onChange:function(e){return o(Number(e.target.value))}})]}),(0,v.jsxs)("div",{className:"row",children:["\u9ad8\u5ea6\uff1a",(0,v.jsx)("input",{type:"number",value:j,onChange:function(e){return C(Number(e.target.value))}})]}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{className:"btn",onClick:function(){return function(){var n=e.current;n.width=u,n.height=j;var t=n.getContext("2d");t.clearRect(0,0,n.width,n.height),t.fillStyle="red",t.fillRect(0,0,300+1e3*Math.random(),300)}()},children:"\u70b9\u51fb\u7ed8\u5236canvas"})}),(0,v.jsx)("canvas",{ref:e,className:"maxsize_canvas",children:"\u7ed8\u5236canvas"}),(0,v.jsx)(i.Z,{src:s})]})}}}]);
//# sourceMappingURL=MaxSize.eb84673d.chunk.js.map