"use strict";(self.webpackChunkexcalidraw_app=self.webpackChunkexcalidraw_app||[]).push([[13],{1890:function(e,n,t){t.d(n,{Z:function(){return v}});var o=t(1413),r=t(4925),i=t(9439),l=t(2791),a=t(1350),s=t(1926),c=t(4209),u=t(6571),f=(t(3659),t(184)),d=["node","inline","className","children"];var v=function(e){var n=e.src,t=(0,l.useState)(""),v=(0,i.Z)(t,2),p=v[0],h=v[1];return(0,l.useEffect)((function(){fetch(n).then((function(e){return e.text()})).then((function(e){h(e)}))}),[n]),(0,f.jsx)("div",{className:"markdown-body",children:(0,f.jsx)(a.D,{children:p,rehypePlugins:[u.Z],remarkPlugins:[s.Z],components:{code:function(e){e.node;var n=e.inline,t=e.className,i=e.children,l=(0,r.Z)(e,d),a=/language-(\w+)/.exec(t||"");return!n&&a?(0,f.jsx)(c.Z,(0,o.Z)({children:String(i).replace(/\n$/,""),language:a[1],className:"my-code",PreTag:"div"},l)):(0,f.jsx)("code",(0,o.Z)((0,o.Z)({className:t},l),{},{children:i}))}}})})}},4616:function(e,n,t){t.r(n),t.d(n,{default:function(){return h},elements:function(){return v}});var o=t(1413),r=t(2791),i=t(84),l=t(1890),a=t(6818),s=t(3433),c=function(e,n){var t,o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),t=o,v.forEach((function(e){t.save(),t.beginPath(),t.lineWidth=3,t.strokeStyle="blue",e.points.forEach((function(n,o){o?t.lineTo.apply(t,(0,s.Z)(n)):t.moveTo.apply(t,(0,s.Z)(e.points[0]))})),t.stroke(),t.restore()})),localStorage.setItem("free-draw-elements",JSON.stringify(v))},u=t(4164),f=function(e){return function(e,n){var t=null,o=null,r=null,i=function n(i){t=window.requestAnimationFrame((function(){t=null,e.apply(void 0,(0,s.Z)(i)),o=null,r&&(o=r,r=null,n(o))}))},l=function(){for(var e=arguments.length,l=new Array(e),a=0;a<e;a++)l[a]=arguments[a];o=l,null===t?i(o):null!==n&&void 0!==n&&n.trailing&&(r=l)};return l.flush=function(){null!==t&&(cancelAnimationFrame(t),t=null),o&&(e.apply(void 0,(0,s.Z)(r||o)),o=r=null)},l.cancel=function(){o=r=null,null!==t&&(cancelAnimationFrame(t),t=null)},l}((function(n){(0,u.unstable_batchedUpdates)(e,n)}))},d=t(184),v=JSON.parse(localStorage.getItem("free-draw-elements"))||[],p={offsetLeft:0,offsetTop:0,scrollX:0,scrollY:0,draggingElement:null},h=(0,r.memo)((function(){var e=(0,r.useRef)(null),n=(0,r.useRef)(null);(0,r.useEffect)((function(){var t=e.current,o=t.getContext("2d"),r=t.offsetWidth,i=t.offsetHeight,l=t.offsetLeft,a=t.offsetTop;t.width=r*window.devicePixelRatio,t.height=i*window.devicePixelRatio,o.scale(window.devicePixelRatio,window.devicePixelRatio),p.offsetLeft=l,p.offsetTop=a,c(t,p);var s=n.current,u=function(e){e.preventDefault()};return s.addEventListener("wheel",u,{passive:!1}),function(){s.removeEventListener("wheel",u)}}),[]);var t=function(n){return f((function(n){var t=(0,i.d)(n,p);p.draggingElement.points.push([t.x,t.y]),c(e.current,p)}))},s=function(e){return function(){console.log("appState...",p),console.log("elements...",v.map((function(e){return e.points.length}))),window.removeEventListener("pointermove",e.eventListeners.onMove),window.removeEventListener("pointerup",e.eventListeners.onUp)}};return(0,d.jsxs)("div",{className:"free-draw",children:[(0,d.jsx)("div",{className:"container",ref:n,children:(0,d.jsx)("canvas",{ref:e,className:"canvas",onPointerDown:function(e){var n=(0,i.d)(e,p),r={origin:n,lastCoords:(0,o.Z)({},n),eventListeners:{onMove:null,onUp:null}},l={x:r.origin.x,y:r.origin.y,points:[],strokeColor:"#000000",backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid"};p.draggingElement=l,v.push(l);var a=t(r),c=s(r);window.addEventListener("pointermove",a),window.addEventListener("pointerup",c),r.eventListeners.onMove=a,r.eventListeners.onUp=c},children:"\u7ed8\u5236canvas"})}),(0,d.jsx)(l.Z,{src:a})]})}))},84:function(e,n,t){t.d(n,{d:function(){return o}});var o=function(e,n){var t=e.clientX,o=e.clientY,r=n.offsetLeft,i=n.offsetTop;return{x:t-r-n.scrollX,y:o-i-n.scrollY}}},6818:function(e,n,t){e.exports=t.p+"static/media/\u70b9\u7a00\u91ca.31d6cfe0d16ae931b73c.md"}}]);
//# sourceMappingURL=Dilution.229442f0.chunk.js.map