"use strict";(self.webpackChunkexcalidraw_app=self.webpackChunkexcalidraw_app||[]).push([[343],{1414:function(e,t,o){o.r(t),o.d(t,{default:function(){return s}});var r=o(2791),n=function(e,t){var o=e.canvas;e.clearRect(0,0,o.width,o.height),function(e,t){var o=t.scrollX,r=t.scrollY;e.save();var n=100,l=100,i=e.canvas;e.translate(o,r),e.strokeStyle="red",e.fillStyle="red",e.save(),e.beginPath(),e.setLineDash([10,10]),e.moveTo(0,-r),e.lineTo(0,i.height-r),e.moveTo(-o,0),e.lineTo(i.width-o,0),e.stroke(),e.restore(),e.beginPath(),e.lineWidth=2,e.textBaseline="middle";for(var s=0;s<r/n;s++)e.moveTo(0,-s*n),e.lineTo(8,-s*n),e.font="20px Arial",e.fillText(-s,-25,-s*n);for(var c=0;c<(i.height-r)/n;c++)e.moveTo(0,c*n),e.lineTo(8,c*n),e.font="20px Arial",e.fillText(c,-25,c*n);for(var a=1;a<o/l;a++)e.moveTo(-a*l,0),e.lineTo(-a*l,8),e.font="20px Arial",e.fillText(-a,-a*l-10,-15);for(var f=1;f<(i.width-o)/l;f++)e.moveTo(f*l,0),e.lineTo(f*l,8),e.font="20px Arial",e.fillText(f,f*l-5,-15);e.stroke(),e.restore()}(e,t),function(e,t){var o=t.scrollX,r=t.scrollY;e.save(),e.translate(20+o,20+r),e.fillStyle="rgba(0, 0, 200, 0.04)",e.fillRect(0,0,200,200),e.lineWidth=1,e.strokeStyle="rgb(105, 101, 219)",e.strokeRect(0,0,200,200),e.restore()}(e,t)},l=o(184),i=(0,r.memo)((function(){var e=(0,r.useRef)(null),t=(0,r.useRef)(null),o=(0,r.useRef)({scrollX:0,scrollY:0,offsetLeft:0,offsetTop:0});(0,r.useEffect)((function(){var t=e.current,r=t.getContext("2d"),l=t.offsetWidth,i=t.offsetHeight,s=t.offsetLeft,c=t.offsetTop;t.width=l*window.devicePixelRatio,t.height=i*window.devicePixelRatio,o.current.offsetLeft=s,o.current.offsetTop=c,n(r,o.current)}),[]),(0,r.useEffect)((function(){var e=t.current,o=function(e){e.preventDefault()};return e.addEventListener("wheel",o,{passive:!1}),function(){e.removeEventListener("wheel",o)}}),[]);var i=function(e){console.log("handleWindowPointerMove=========",e.target)};return(0,l.jsx)("div",{ref:t,children:(0,l.jsx)("canvas",{onWheel:function(t){var r=t.deltaX,l=t.deltaY;o.current.scrollX=o.current.scrollX-r,o.current.scrollY=o.current.scrollY-l,n(e.current.getContext("2d"),o.current),console.log("wheel",o.current.scrollX,o.current.scrollY)},onPointerDown:function(e){console.log("pointer down===",e),window.addEventListener("pointermove",i)},onPointerUp:function(e){window.removeEventListener("pointermove",i)},ref:e,className:"canvas",children:"\u7ed8\u5236canvas"})})})),s=i}}]);
//# sourceMappingURL=Canvas.a932beef.chunk.js.map